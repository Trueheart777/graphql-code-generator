<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for operation-handler.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="index.html">All files</a> operation-handler.ts
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/23</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/4</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/4</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/23</span>
      </div>
    </div>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import {typeFromAST} from 'graphql/utilities/typeFromAST';
import {GraphQLSchem<span class="cstat-no" title="statement not covered" >a} from 'graphql/type/schema';</span>
import {Operat<span class="cstat-no" title="statement not covered" >ionDefinitionNode, </span>VariableDefinitionNode} from 'graphql/language/ast';
import {CodegenD<span class="cstat-no" title="statement not covered" >ocument, Field} from './interfaces';</span>
import {<span class="cstat-no" title="statement not covered" ></span>
  getTypeName, <span class="cstat-no" title="statement not covered" >isArray, isRequired, isPrimitive, getRoot,</span>
  buildName
} from './utils';
import pascalCase = require('pascal-case');
import {print} from 'graphql/language/printer';
import {buildInnerMod<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >el</span>sArray} from './inner-models-builer';</span>
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ></span></span>
const typesMap = {<span class="cstat-no" title="statement not covered" ></span>
  query:<span class="cstat-no" title="statement not covered" > 'Query',</span>
  subscription: 'Subscription',
  mutation: 'Mutation'
};
&nbsp;
const buildVariables = (schema: GraphQLSchema, definitionNode: OperationDefinitionNode, primitivesMap: any): Field[] =&gt; {
  return definitionNode.variableDefinitions.map&lt;Field&gt;((variableDefinition: VariableDefinitionNode) =&gt; {
    const typeFromSchema = typeFromAST(schema, variableDefinition.type);
<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" ></span></span>
    return &lt;Fie<span class="cstat-no" title="statement not covered" >ld&gt;{</span>
      name: var<span class="cstat-no" title="statement not covered" >iableDefinition.variable.</span>name.value,
      type: get<span class="cstat-no" title="statement not covered" >TypeName(primitivesMap, typeFromSchema),</span>
      isArray: isArr<span class="cstat-no" title="statement not covered" >ay(typeFromSchema),</span>
      isRequired: i<span class="cstat-no" title="statement not covered" >sRequired(typeFromSchema)</span>
    };
  });
};
&nbsp;
export const handleOperation = (schema: GraphQLSchema, definitionNode: OperationDefinitionNode, primitivesMap: any): CodegenDocument =&gt; {
  const name = definitionNode.name.value;
  const type = definitionNode.operation;
  const root = getRoot(schema, definitionNode);
  const builtName = buildName(typesMap, name, type);
&nbsp;
  let document: CodegenDocument = {
    name: builtName,
    rawName: name,
<span class="cstat-no" title="statement not covered" >    isQuery: type === 'query',</span>
<span class="cstat-no" title="statement not covered" >    isSubscription: type === 'subscription',</span>
<span class="cstat-no" title="statement not covered" >    isMutation: type === 'mutation',</span>
<span class="cstat-no" title="statement not covered" >    isFragment: false,</span>
<span class="cstat-no" title="statement not covered" >    variables: [],<span class="fstat-no" title="function not covered" ></span></span>
    inne<span class="cstat-no" title="statement not covered" >rTypes: [],</span>
    hasVaria<span class="cstat-no" title="statement not covered" >bles: false,</span>
    hasInnerTypes: false,
    imports: [],
<span class="cstat-no" title="statement not covered" >    document: print(d</span>efinitionNode)
  };
&nbsp;
  document.variables = buildVariables(schema, definitionNode, primitivesMap);
  document.innerTypes = buildInnerModelsArray(schema, root, definitionNode.selectionSet, primitivesMap);
&nbsp;
  document.hasVariables = document.variables.length &gt; 0;
  document.hasInnerTypes = document.innerTypes.length &gt; 0;
&nbsp;
  document.variables.forEach((field: Field) =&gt; {
    if (field.type &amp;&amp; !isPrimitive(primitivesMap, field.type)) {
      document.imports.push(field.type);
    }
  });
&nbsp;
  return document;
};
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Dec 13 2016 16:37:41 GMT+0200 (IST)
</div>
</div>
<script src="prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="sorter.js"></script>
</body>
</html>
