(self.webpackChunk_graphql_codegen_website=self.webpackChunk_graphql_codegen_website||[]).push([[3067],{45545:function(){},46047:function(){},78028:function(){},50695:function(){},50471:function(){},71632:function(){},48860:function(){},67101:function(e,t,n){"use strict";n.r(t),n.d(t,{plugin:function(){return I},preset:function(){return k}});var i=n(50408),a=n(1346),r=n(57554),s=n(37173),o=n(62697),l=n(15635),p=n(43165),c=n(21962),u=n(53525),m=n(32337),d=n(26407),h=n(44880),f=n(67425),g=n(27061);const y={String:"java.lang.String",Boolean:"java.lang.Boolean",Integer:"java.lang.Integer",Object:"java.lang.Object",Float:"java.lang.Float",Long:"java.lang.Long",Class:"java.lang.Class",Arrays:"java.util.Arrays",List:"java.util.List",IOException:"java.io.IOException",Collections:"java.util.Collections",LinkedHashMap:"java.util.LinkedHashMap",Map:"java.util.Map",Nonnull:"javax.annotation.Nonnull",Nullable:"javax.annotation.Nullable",Override:"java.lang.Override",Generated:"javax.annotation.Generated",ScalarType:"com.apollographql.apollo.api.ScalarType",GraphqlFragment:"com.apollographql.apollo.api.GraphqlFragment",Operation:"com.apollographql.apollo.api.Operation",OperationName:"com.apollographql.apollo.api.OperationName",Mutation:"com.apollographql.apollo.api.Mutation",Query:"com.apollographql.apollo.api.Query",Subscription:"com.apollographql.apollo.api.Subscription",ResponseField:"com.apollographql.apollo.api.ResponseField",ResponseFieldMapper:"com.apollographql.apollo.api.ResponseFieldMapper",ResponseFieldMarshaller:"com.apollographql.apollo.api.ResponseFieldMarshaller",ResponseReader:"com.apollographql.apollo.api.ResponseReader",ResponseWriter:"com.apollographql.apollo.api.ResponseWriter",FragmentResponseFieldMapper:"com.apollographql.apollo.api.FragmentResponseFieldMapper",UnmodifiableMapBuilder:"com.apollographql.apollo.api.internal.UnmodifiableMapBuilder",Utils:"com.apollographql.apollo.api.internal.Utils",InputType:"com.apollographql.apollo.api.InputType",Input:"com.apollographql.apollo.api.Input",InputFieldMarshaller:"com.apollographql.apollo.api.InputFieldMarshaller",InputFieldWriter:"com.apollographql.apollo.api.InputFieldWriter"},T={ID:"writeString",String:"writeString",Int:"writeInt",Boolean:"writeBoolean",Float:"writeDouble"};function v(e){return e&&!!e.kind}class _ extends c.NU{constructor(e,t,n){super(t,{...n,scalars:(0,c.Wv)(e,{ID:"String"},u.ZU)}),this._schema=e,this._imports=new Set}getPackage(){return""}additionalContent(){return""}getImports(){return Array.from(this._imports).map((e=>`import ${e};`))}getImplementingTypes(e){const t=this._schema.getTypeMap(),n=[];for(const i of Object.values(t))if(i instanceof a.h6){i.getInterfaces().find((t=>t.name===e.name))&&n.push(i.name)}return n}transformType(e){let t,n;if(v(e)){const i=(0,c.Gu)(e);t=this._schema.getType(i.name.value),n=e.kind===r.h.NON_NULL_TYPE}else t=this._schema.getType((0,i.Wp)(e).name),n=(0,a.zM)(e);const s=this.getJavaClass(t),o=n?"Nonnull":"Nullable",l=v(e)?this.getListTypeNodeWrapped(s,e):this.getListTypeWrapped(s,e);return{baseType:t.name,javaType:s,isNonNull:n,annotation:o,typeToUse:l}}getJavaClass(e){let t=e.name;if((0,a.KA)(e)){const n=this.scalars[e.name]||"Object";y[n]&&this._imports.add(y[n]),t=n}else(0,a.hL)(e)&&this._imports.add(`${this.config.typePackage}.${e.name}`);return t}getListTypeWrapped(e,t){if((0,a.zM)(t))return this.getListTypeWrapped(e,t.ofType);if((0,a.HG)(t)){const n=this.getListTypeWrapped(e,t.ofType);return this._imports.add(y.List),`List<${n}>`}return e}getListTypeNodeWrapped(e,t){if(t.kind===r.h.NON_NULL_TYPE)return this.getListTypeNodeWrapped(e,t.type);if(t.kind===r.h.LIST_TYPE){const n=this.getListTypeNodeWrapped(e,t.type);return this._imports.add(y.List),`List<${n}>`}return e}}class N extends _{constructor(e,t){super(e,t,{typePackage:t.typePackage||"type"})}getPackage(){return this.config.typePackage}addInputMembers(e,t){t.forEach((t=>{const n=this.transformType(t.type),i=n.isNonNull?n.typeToUse:`Input<${n.typeToUse}>`,a=n.isNonNull?[n.annotation]:[];this._imports.add(y[n.annotation]),e.addClassMember(t.name.value,i,null,a,"private",{final:!0}),e.addClassMethod(t.name.value,i,`return this.${t.name.value};`,[],[n.annotation],"public")}))}addInputCtor(e,t,n){const i=n.map((e=>`this.${e.name.value} = ${e.name.value};`)).join("\n");e.addClassMethod(t,null,i,n.map((e=>{const t=this.transformType(e.type),n=t.isNonNull?t.typeToUse:`Input<${t.typeToUse}>`;return this._imports.add(y[t.annotation]),{name:e.name.value,type:n,annotations:t.isNonNull?[t.annotation]:[]}})),[],"public")}getFieldWriterCall(e,t=!1){const n=(0,c.Gu)(e.type),i=this._schema.getType(n.name.value),s=e.type.kind===r.h.NON_NULL_TYPE;let o=null;if((0,a.KA)(i))o=T[i.name]||"writeCustom";else{if((0,a.hL)(i))return t?"writeObject($item.marshaller())":`writeObject("${e.name.value}", ${e.name.value}.value != null ? ${e.name.value}.value.marshaller() : null)`;(0,a.EM)(i)&&(o="writeString")}return t?`${o}($item)`:`${o}("${e.name.value}", ${e.name.value}${s?"":".value"})`}getFieldWithTypePrefix(e,t=null,n=!1){this._imports.add(y.Input);const i=this.getJavaClass(this._schema.getType((0,c.Gu)(e.type).name.value)),a=e.type.kind===r.h.NON_NULL_TYPE,s=e.kind===r.h.INPUT_VALUE_DEFINITION?e.name.value:e.variable.name.value;return a?(this._imports.add(y.Nonnull),`@Nonnull ${i} ${s}`):t?"function"==typeof t?`${t(i)} ${s}`:`${t}<${i}> ${s}`:(n&&this._imports.add(y.Nullable),`${n?"@Nullable ":""}${i} ${s}`)}buildFieldsMarshaller(e){const t=e.type.kind===r.h.NON_NULL_TYPE,n=e.type.kind===r.h.LIST_TYPE||e.type.kind===r.h.NON_NULL_TYPE&&e.type.type.kind===r.h.LIST_TYPE,i=this.getFieldWriterCall(e,n),a=(0,c.Gu)(e.type),s=this.getJavaClass(this._schema.getType(a.name.value));let o="";return o=n?`writer.writeList("${e.name.value}", ${e.name.value}.value != null ? new InputFieldWriter.ListWriter() {\n  @Override\n  public void write(InputFieldWriter.ListItemWriter listItemWriter) throws IOException {\n    for (${s} $item : ${e.name.value}.value) {\n      listItemWriter.${i};\n    }\n  }\n} : null);`:(0,c.WY)(`writer.${i};`),t?o:(0,c.dC)(`if(${e.name.value}.defined) {\n${(0,c.dC)(o)}\n}`)}buildMarshallerOverride(e){this._imports.add(y.Override),this._imports.add(y.IOException),this._imports.add(y.InputFieldWriter),this._imports.add(y.InputFieldMarshaller);const t=e.map((e=>(0,c.dC)(this.buildFieldsMarshaller(e),2)));return(0,c.dC)(`@Override\npublic InputFieldMarshaller marshaller() {\n  return new InputFieldMarshaller() {\n    @Override\n    public void marshal(InputFieldWriter writer) throws IOException {\n${t.join("\n")}\n    }\n  };\n}`)}buildBuilderNestedClass(e,t){const n="Builder",i=t.map((e=>{const t=e.type.kind===r.h.LIST_TYPE||e.type.kind===r.h.NON_NULL_TYPE&&e.type.type.kind===r.h.LIST_TYPE;return`private ${this.getFieldWithTypePrefix(e,(e=>t?`Input<List<${e}>>`:`Input<${e}>`))}${e.type.kind===r.h.NON_NULL_TYPE?"":" = Input.absent()"};`})).map((e=>(0,c.WY)(e))),a=t.map((e=>{const t=e.type.kind===r.h.LIST_TYPE||e.type.kind===r.h.NON_NULL_TYPE&&e.type.type.kind===r.h.LIST_TYPE,n=this.getFieldWithTypePrefix(e,t?"List":null),i=e.type.kind===r.h.NON_NULL_TYPE;return`\npublic Builder ${e.name.value}(${i?"":"@Nullable "}${n}) {\n  this.${e.name.value} = ${i?e.name.value:`Input.fromNullable(${e.name.value})`};\n  return this;\n}`})).map((e=>(0,c.dC)(e))),s=t.filter((e=>e.type.kind===r.h.NON_NULL_TYPE)).map((e=>(this._imports.add(y.Utils),(0,c.WY)(`Utils.checkNotNull(${e.name.value}, "${e.name.value} == null");`,1)))),o=[...i,"\n"+(0,c.WY)("Builder() {}"),...a,"",(0,c.dC)(`public ${e} build() {\n${s.join("\n")}\n  return new ${e}(${t.map((e=>e.name.value)).join(", ")});\n}`)].join("\n");return(0,c.dC)((new u.o$).withName(n).access("public").final().static().withBlock(o).asKind("class").string)}InputObjectTypeDefinition(e){const t=e.name.value;this._imports.add(y.InputType),this._imports.add(y.Generated);const n=(new u.o$).annotate(['Generated("Apollo GraphQL")']).access("public").final().asKind("class").withName(t).implements(["InputType"]);this.addInputMembers(n,e.fields),this.addInputCtor(n,t,e.fields),n.addClassMethod("builder","Builder","return new Builder();",[],[],"public",{static:!0});const i=[this.buildMarshallerOverride(e.fields),"",this.buildBuilderNestedClass(t,e.fields)].join("\n");return n.withBlock(i),n.string}}function $(e,t){return e.arguments&&0!==e.arguments.length?(t.add(y.UnmodifiableMapBuilder),t.add(y.String),t.add(y.Object),(0,i.fX)(e,{leave:{Field:e=>`new UnmodifiableMapBuilder<String, Object>(${e.arguments.length})`+e.arguments.join("")+".build()",Argument:e=>`.put("${e.name.value}", ${e.value})`,ObjectValue:e=>`new UnmodifiableMapBuilder<String, Object>(${e.fields.length})`+e.fields.join("")+".build()",ObjectField:e=>`.put("${e.name.value}", ${e.value})`,Variable:e=>`new UnmodifiableMapBuilder<String, Object>(2).put("kind", "Variable").put("variableName", "${e.name.value}").build()`,StringValue:e=>`"${e.value}"`,IntValue:e=>`"${e.value}"`,FloatValue:e=>`"${e.value}"`}})):"null"}const{singular:b,isPlural:F}=d;class S extends _{constructor(e,t,n){super(e,t,{package:t.package||(0,u.yF)(g.cwd()),fragmentPackage:t.fragmentPackage||"fragment",typePackage:t.typePackage||"type"}),this._availableFragments=n,this.visitingFragment=!1}printDocument(e){return(0,s.S)(e).replace(/\r?\n|\r/g," ").replace(/"/g,'\\"').trim()}getPackage(){return this.visitingFragment?this.config.fragmentPackage:this.config.package}addCtor(e,t,n){const i=t.variableDefinitions||[],a=i.length>0,s=[...i.filter((e=>e.type.kind===r.h.NON_NULL_TYPE)).map((e=>(this._imports.add(y.Utils),`Utils.checkNotNull(${e.variable.name.value}, "${e.variable.name.value} == null");`))),`this.variables = ${a?`new ${e}.Variables(${i.map((e=>e.variable.name.value)).join(", ")})`:"Operation.EMPTY_VARIABLES"};`].join("\n");n.addClassMethod(e,null,s,t.variableDefinitions.map((e=>{const t=(0,c.Gu)(e.type).name.value,n=this._schema.getType(t),i=this.getJavaClass(n),a=this.getListTypeNodeWrapped(i,e.type),s=e.type.kind===r.h.NON_NULL_TYPE;return{name:e.variable.name.value,type:a,annotations:[s?"Nonnull":"Nullable"]}})),null,"public")}getRootType(e){return"query"===e?this._schema.getQueryType():"mutation"===e?this._schema.getMutationType():"subscription"===e?this._schema.getSubscriptionType():null}createUniqueClassName(e,t,n=0){const i=0===n?t:`${t}${n}`;for(;e.includes(i);)return this.createUniqueClassName(e,t,n+1);return i}transformSelectionSet(e,t=!0){if(e.result||(e.result={}),!(0,a.lp)(e.schemaType)&&!(0,a.oT)(e.schemaType))return e.result;const n=this.createUniqueClassName(Object.keys(e.result),e.className),s=(new u.o$).access("public").asKind("class").withName(n).implements(e.implements||[]);e.nonStaticClass||s.static(),e.result[n]=s;const l=e.schemaType.getFields(),p=[...e.additionalFields||[]],m=[],d=[...e.additionalFragments||[]],f=[...e.selectionSet||[]],g=[];for(const o of f)if(o.kind===r.h.FIELD){this._imports.add(y.ResponseField);const t=l[o.name.value],n=o.selectionSet&&o.selectionSet.selections&&o.selectionSet.selections.length>0,r=(0,a.zM)(t.type),s=r?"Nonnull":"Nullable";this._imports.add(y[s]);const c=(0,i.Wp)(t.type),u=(0,a.HG)(t.type)||(0,a.zM)(t.type)&&(0,a.HG)(t.type.ofType);if(n){let n=this.convertName(t.name);u&&F(n)&&(n=b(n)),this.transformSelectionSet({className:n,result:e.result,selectionSet:o.selectionSet.selections,schemaType:c},!1),p.push({rawType:t.type,isObject:!0,isList:u,isFragment:!1,type:c,isNonNull:r,annotation:s,className:n,fieldName:t.name})}else{const e=this.getJavaClass(c);p.push({rawType:t.type,isObject:!1,isFragment:!1,isList:u,type:c,isNonNull:r,annotation:s,className:e,fieldName:t.name})}this._imports.add(y.ResponseField),this._imports.add(y.Collections);const m=$(o,this._imports),d=this._resolveResponseFieldMethodForBaseType(t.type);g.push(`ResponseField.${d.fn}("${o.alias?o.alias.value:o.name.value}", "${o.name.value}", ${m}, ${!(0,a.zM)(t.type)},${d.custom?` CustomType.${c.name},`:""} Collections.<ResponseField.Condition>emptyList())`)}else if(o.kind===r.h.INLINE_FRAGMENT)(0,a.EN)(e.schemaType)||(0,a.oT)(e.schemaType)?m.push({onType:o.typeCondition.name.value,node:o}):f.push(...o.selectionSet.selections);else if(o.kind===r.h.FRAGMENT_SPREAD){const e=this._availableFragments.find((e=>e.name===o.name.value));if(!e)throw new Error(`Fragment with name ${o.name.value} was not loaded as document!`);d.push(e),this._imports.add(`${this.config.fragmentPackage}.${e.name}`)}if(m.length>0){const t=[...p];p.push(...m.map((n=>{const i=`As${n.onType}`,a=this._schema.getType(n.onType);return this.transformSelectionSet({additionalFields:t,additionalFragments:d,className:i,result:e.result,selectionSet:n.node.selectionSet.selections,schemaType:a},!1),this._imports.add(y.Nullable),{isFragment:!1,rawType:a,isObject:!0,isList:!1,type:a,isNonNull:!1,annotation:"Nullable",className:i,fieldName:`as${n.onType}`}}))),g.push(...m.map((e=>(this._imports.add(y.Arrays),`ResponseField.forInlineFragment("__typename", "__typename", Arrays.asList("${e.onType}"))`))))}if(d.length>0){g.push(`ResponseField.forFragment("__typename", "__typename", Arrays.asList(${d.map((e=>`"${e.onType}"`)).join(", ")}))`),this._imports.add(y.ResponseField),this._imports.add(y.Nonnull),this._imports.add(y.Arrays);const t="Fragments";p.push({isObject:!0,isList:!1,isFragment:!0,rawType:e.schemaType,type:e.schemaType,isNonNull:!0,annotation:"Nonnull",className:t,fieldName:"fragments"});const n=(new u.o$).withName(t).access("public").static().final().asKind("class"),i=(new u.o$).withName("Mapper").access("public").static().final().implements([`FragmentResponseFieldMapper<${t}>`]).asKind("class");n.addClassMethod(t,null,d.map((e=>{const t=(0,h.camelCase)(e.name);return this._imports.add(y.Utils),`this.${t} = Utils.checkNotNull(${t}, "${t} == null");`})).join("\n"),d.map((e=>({name:(0,h.camelCase)(e.name),type:e.name,annotations:["Nonnull"]}))),[],"public");for(const e of d){const t=(0,h.camelCase)(e.name);n.addClassMember(t,e.name,null,["Nonnull"],"private",{final:!0}),n.addClassMethod(t,e.name,`return this.${t};`,[],["Nonnull"],"public",{},[]),i.addClassMember(`${t}FieldMapper`,`${e.name}.Mapper`,`new ${e.name}.Mapper()`,[],"private",{final:!0})}i.addClassMethod("map",t,`\n${d.map((e=>{const t=(0,h.camelCase)(e.name);return`${e.name} ${t} = null;\nif (${e.name}.POSSIBLE_TYPES.contains(conditionalType)) {\n  ${t} = ${t}FieldMapper.map(reader);\n}`})).join("\n")}\n\nreturn new Fragments(${d.map((e=>{const t=(0,h.camelCase)(e.name);return`Utils.checkNotNull(${t}, "${t} == null")`})).join(", ")});\n      `,[{name:"reader",type:"ResponseReader"},{name:"conditionalType",type:"String",annotations:["Nonnull"]}],["Nonnull"],"public",{},["Override"]),this._imports.add(y.String),this._imports.add(y.ResponseReader),this._imports.add(y.ResponseFieldMarshaller),this._imports.add(y.ResponseWriter),n.addClassMethod("marshaller","ResponseFieldMarshaller",`return new ResponseFieldMarshaller() {\n  @Override\n  public void marshal(ResponseWriter writer) {\n${d.map((e=>{const t=(0,h.camelCase)(e.name);return(0,c.dC)(`final ${e.name} $${t} = ${t};\nif ($${t} != null) { $${t}.marshaller().marshal(writer); }`,2)})).join("\n")}\n  }\n};\n      `,[],[],"public"),n.addClassMember("$toString","String",null,[],"private",{volatile:!0}),n.addClassMember("$hashCode","int",null,[],"private",{volatile:!0}),n.addClassMember("$hashCodeMemoized","boolean",null,[],"private",{volatile:!0}),n.addClassMethod("toString","String",`if ($toString == null) {\n    $toString = "${t}{"\n  ${d.map((e=>{const t=(0,h.camelCase)(e.name);return(0,c.WY)(`+ "${t}=" + ${t} + ", "`,2)})).join("\n")}\n      + "}";\n  }\n  \n  return $toString;`,[],[],"public",{},["Override"]),n.addClassMethod("equals","boolean",`if (o == this) {\n    return true;\n  }\n  if (o instanceof ${t}) {\n    ${t} that = (${t}) o;\n    return ${d.map((e=>{const t=(0,h.camelCase)(e.name);return`this.${t}.equals(that.${t})`})).join(" && ")};\n  }\n  \n  return false;`,[{name:"o",type:"Object"}],[],"public",{},["Override"]),n.addClassMethod("hashCode","int",`if (!$hashCodeMemoized) {\n    int h = 1;\n  ${d.map((e=>{const t=(0,h.camelCase)(e.name);return(0,c.dC)(`h *= 1000003;\nh ^= ${t}.hashCode();`,1)})).join("\n")}\n    $hashCode = h;\n    $hashCodeMemoized = true;\n  }\n  \n  return $hashCode;`,[],[],"public",{},["Override"]),this._imports.add(y.FragmentResponseFieldMapper),n.nestedClass(i),s.nestedClass(n)}return g.length>0&&!t&&g.unshift('ResponseField.forString("__typename", "__typename", null, false, Collections.<ResponseField.Condition>emptyList())'),t||(this._imports.add(y.Nonnull),p.unshift({isObject:!1,isFragment:!1,isList:!1,type:o.kH,rawType:o.kH,isNonNull:!0,annotation:"Nonnull",className:"String",fieldName:"__typename"})),p.forEach((e=>{s.addClassMember(e.fieldName,this.getListTypeWrapped(e.className,e.rawType),null,[e.annotation],"private",{final:!0})})),s.addClassMember("$toString","String",null,[],"private",{volatile:!0}),s.addClassMember("$hashCode","int",null,[],"private",{volatile:!0}),s.addClassMember("$hashCodeMemoized","boolean",null,[],"private",{volatile:!0}),s.addClassMember("$responseFields","ResponseField[]","{\n"+((0,c.dC)(g.join(",\n"),2)+"\n  }"),[],null,{static:!0,final:!0}),this._imports.add(y.Utils),s.addClassMethod(n,null,p.map((e=>`this.${e.fieldName} = ${e.isNonNull?`Utils.checkNotNull(${e.fieldName}, "${e.fieldName} == null")`:e.fieldName};`)).join("\n"),p.map((e=>({name:e.fieldName,type:this.getListTypeWrapped(e.className,e.rawType),annotations:[e.annotation]}))),null,"public"),p.forEach((e=>{s.addClassMethod(e.fieldName,this.getListTypeWrapped(e.className,e.rawType),`return this.${e.fieldName};`,[],[e.annotation],"public",{})})),s.addClassMethod("toString","String",`if ($toString == null) {\n  $toString = "${n}{"\n${p.map((e=>(0,c.WY)(`+ "${e.fieldName}=" + ${e.fieldName} + ", "`,2))).join("\n")}\n    + "}";\n}\n\nreturn $toString;`,[],[],"public",{},["Override"]),s.addClassMethod("equals","boolean",`if (o == this) {\n  return true;\n}\nif (o instanceof ${n}) {\n  ${n} that = (${n}) o;\n  return ${p.map((e=>e.isNonNull?`this.${e.fieldName}.equals(that.${e.fieldName})`:`((this.${e.fieldName} == null) ? (that.${e.fieldName} == null) : this.${e.fieldName}.equals(that.${e.fieldName}))`)).join(" && ")};\n}\n\nreturn false;`,[{name:"o",type:"Object"}],[],"public",{},["Override"]),s.addClassMethod("hashCode","int",`if (!$hashCodeMemoized) {\n  int h = 1;\n${p.map((e=>(0,c.dC)(`h *= 1000003;\nh ^= ${e.isNonNull?"":`(${e.fieldName} == null) ? 0 : `}${e.fieldName}.hashCode();`,1))).join("\n")}\n  $hashCode = h;\n  $hashCodeMemoized = true;\n}\n\nreturn $hashCode;`,[],[],"public",{},["Override"]),this._imports.add(y.ResponseReader),this._imports.add(y.ResponseFieldMarshaller),this._imports.add(y.ResponseWriter),s.addClassMethod("marshaller","ResponseFieldMarshaller",`return new ResponseFieldMarshaller() {\n  @Override\n  public void marshal(ResponseWriter writer) {\n${p.map(((e,t)=>{const n=this._getWriterMethodByType(e.type);if(e.isList)return(0,c.dC)(`writer.writeList($responseFields[${t}], ${e.fieldName}, new ResponseWriter.ListWriter() {\n  @Override\n  public void write(Object value, ResponseWriter.ListItemWriter listItemWriter) {\n    listItemWriter.${n.name}(((${e.className}) value)${n.useMarshaller?".marshaller()":""});\n  }\n});`,2);let i=`${e.fieldName}${n.useMarshaller?".marshaller()":""}`;return!n.checkNull&&e.isNonNull||(i=`${e.fieldName} != null ? ${i} : null`),(0,c.WY)(`writer.${n.name}(${n.castTo?`(${n.castTo}) `:""}$responseFields[${t}], ${i});`,2)})).join("\n")}\n  }\n};`,[],[],"public"),s.nestedClass(this.buildMapperClass(n,p)),e.result}getReaderFn(e){return(0,a.KA)(e)?"String"===e.name?{fn:"readString"}:"Int"===e.name?{fn:"readInt"}:"Float"===e.name?{fn:"readDouble"}:"Boolean"===e.name?{fn:"readBoolean"}:{fn:"readCustomType",custom:!0}:(0,a.EM)(e)?{fn:"readString"}:{fn:"readObject",object:e.name}}buildMapperClass(e,t){const n=(e,t,i)=>{if((0,a.zM)(t))return n(e,t.ofType,i);if((0,a.HG)(t)){const r=this.getListTypeWrapped(e.className,t.ofType),s=n(e,t.ofType,i),o=(0,a.HG)(t.ofType)?`return listItemReader.readList(${s});`:s;return`new ResponseReader.ListReader<${r}>() {\n  @Override\n  public ${r} read(ResponseReader.ListItemReader listItemReader) {\n${(0,c.dC)(o,2)}\n  }\n}`}return i};this._imports.add(y.ResponseReader);const i=[...t.map(((e,t)=>{const i=`final ${this.getListTypeWrapped(e.className,e.rawType)} ${e.fieldName} =`,a=this.getReaderFn(e.type);if(e.isFragment)return`${i} reader.readConditional($responseFields[${t}], new ResponseReader.ConditionalTypeReader<${e.className}>() {\n          @Override\n          public ${e.className} read(String conditionalType, ResponseReader reader) {\n            return fragmentsFieldMapper.map(reader, conditionalType);\n          }\n        });`;if(e.isList){const r=a.object?`return listItemReader.${a.fn}(new ResponseReader.ObjectReader<Item>() {\n          @Override\n          public Item read(ResponseReader reader) {\n            return ${e.fieldName}FieldMapper.map(reader);\n          }\n        });`:`return listItemReader.${a.fn}();`;return`${i} reader.readList($responseFields[${t}], ${n(e,e.rawType,r)});`}return a.object?`${i} reader.readObject($responseFields[${t}], new ResponseReader.ObjectReader<${e.className}>() {\n          @Override\n          public ${e.className} read(ResponseReader reader) {\n            return ${e.fieldName}FieldMapper.map(reader);\n          }\n        });`:`${i} reader.${a.fn}(${a.custom?"(ResponseField.CustomTypeField) ":""}$responseFields[${t}]);`})),`return new ${e}(${t.map((e=>e.fieldName)).join(", ")});`].join("\n"),r=(new u.o$).access("public").static().final().asKind("class").withName("Mapper").implements([`ResponseFieldMapper<${e}>`]).addClassMethod("map",e,i,[{name:"reader",type:"ResponseReader"}],[],"public",{},["Override"]);return t.filter((e=>e.isObject)).forEach((e=>{r.addClassMember(`${e.fieldName}FieldMapper`,`${e.className}.Mapper`,`new ${e.className}.Mapper()`,[],"private",{final:!0})})),r}_resolveResponseFieldMethodForBaseType(e){return(0,a.HG)(e)?{fn:"forList"}:(0,a.zM)(e)?this._resolveResponseFieldMethodForBaseType(e.ofType):(0,a.KA)(e)?"String"===e.name?{fn:"forString"}:"Int"===e.name?{fn:"forInt"}:"Float"===e.name?{fn:"forDouble"}:"Boolean"===e.name?{fn:"forBoolean"}:(this._imports.add(`${this.config.typePackage}.CustomType`),{fn:"forCustomType",custom:!0}):(0,a.EM)(e)?{fn:"forEnum"}:{fn:"forObject"}}FragmentDefinition(e){this.visitingFragment=!0;const t=e.name.value,n=this._schema.getType(e.typeCondition.name.value);this._imports.add(y.Arrays),this._imports.add(y.GraphqlFragment),this._imports.add(y.List),this._imports.add(y.String),this._imports.add(y.Collections),this._imports.add(y.Override),this._imports.add(y.Generated),this._imports.add(y.ResponseFieldMapper);const i=this.transformSelectionSet({className:t,nonStaticClass:!0,implements:["GraphqlFragment"],selectionSet:e.selectionSet&&e.selectionSet.selections?e.selectionSet.selections:[],result:{},schemaType:n},!1),r=i[t],s=this.printDocument(e);r.addClassMember("FRAGMENT_DEFINITION","String",`"${s}"`,[],"public",{static:!0,final:!0});const o=(0,a.lp)(n)?[n.name]:this.getImplementingTypes(n);return r.addClassMember("POSSIBLE_TYPES","List<String>",`Collections.unmodifiableList(Arrays.asList(${o.map((e=>`"${e}"`)).join(", ")}))`,[],"public",{static:!0,final:!0}),Object.keys(i).filter((e=>e!==t)).forEach((e=>{r.nestedClass(i[e])})),r.string}OperationDefinition(e){this.visitingFragment=!1;const t=(0,h.pascalCase)(e.operation),n=this.getRootType(e.operation),i=e.name.value.endsWith(t)?t:`${e.name.value}${t}`;this._imports.add(y[t]),this._imports.add(y.String),this._imports.add(y.Override),this._imports.add(y.Generated),this._imports.add(y.OperationName),this._imports.add(y.Operation),this._imports.add(y.ResponseFieldMapper);const a=(new u.o$).annotate(['Generated("Apollo GraphQL")']).access("public").final().asKind("class").withName(i),r=this.printDocument(e);a.implements([`${t}<${i}.Data, ${i}.Data, ${0===e.variableDefinitions.length?"Operation":i}.Variables>`]),a.addClassMember("OPERATION_DEFINITION","String",`"${r}"`,[],"public",{static:!0,final:!0}),a.addClassMember("QUERY_DOCUMENT","String","OPERATION_DEFINITION",[],"public",{static:!0,final:!0}),a.addClassMember("OPERATION_NAME","OperationName",`new OperationName() {\n  @Override\n  public String name() {\n    return "${e.name.value}";\n  }\n}`,[],"public",{static:!0,final:!0}),a.addClassMember("variables",`${0===e.variableDefinitions.length?"Operation":i}.Variables`,null,[],"private",{final:!0}),a.addClassMethod("queryDocument","String","return QUERY_DOCUMENT;",[],[],"public",{},["Override"]),a.addClassMethod("wrapData",`${i}.Data`,"return data;",[{name:"data",type:`${i}.Data`}],[],"public",{},["Override"]),a.addClassMethod("variables",`${0===e.variableDefinitions.length?"Operation":i}.Variables`,"return variables;",[],[],"public",{},["Override"]),a.addClassMethod("responseFieldMapper",`ResponseFieldMapper<${i}.Data>`,"return new Data.Mapper();",[],[],"public",{},["Override"]),a.addClassMethod("builder","Builder","return new Builder();",[],[],"public",{static:!0},[]),a.addClassMethod("name","OperationName","return OPERATION_NAME;",[],[],"public",{},["Override"]),a.addClassMethod("operationId","String",`return "${(0,m.js)("md5").update(r).digest("hex")}";`,[],[],"public",{},[]),this.addCtor(i,e,a),this._imports.add(y.Operation);const s=this.transformSelectionSet({className:"Data",implements:["Operation.Data"],selectionSet:e.selectionSet&&e.selectionSet.selections?e.selectionSet.selections:[],result:{},schemaType:n});return Object.keys(s).forEach((e=>{a.nestedClass(s[e])})),a.nestedClass(this.createBuilderClass(i,e.variableDefinitions||[])),a.nestedClass(this.createVariablesClass(i,e.variableDefinitions||[])),a.string}createVariablesClass(e,t){const n="Variables",i=(new u.o$).static().access("public").final().asKind("class").extends(["Operation.Variables"]).withName(n),r=[],s=[];t.forEach((e=>{r.push(`this.${e.variable.name.value} = ${e.variable.name.value};`),r.push(`this.valueMap.put("${e.variable.name.value}", ${e.variable.name.value});`);const t=(0,c.Gu)(e.type),n=this._schema.getType(t.name.value),o=this.getJavaClass(n),l=(0,a.zM)(e.type)?"Nullable":"Nonnull";this._imports.add(y[l]),s.push({name:e.variable.name.value,type:o,annotations:[l]}),i.addClassMember(e.variable.name.value,o,null,[l],"private"),i.addClassMethod(e.variable.name.value,o,`return ${e.variable.name.value};`,[],[],"public")})),this._imports.add(y.LinkedHashMap),this._imports.add(y.Map),i.addClassMethod(n,null,r.join("\n"),s,[],"public"),i.addClassMember("valueMap","Map<String, Object>","new LinkedHashMap<>()",[],"private",{final:!0,transient:!0}),i.addClassMethod("valueMap","Map<String, Object>","return Collections.unmodifiableMap(valueMap);",[],[],"public",{},["Override"]);const o=`return new InputFieldMarshaller() {\n  @Override\n  public void marshal(InputFieldWriter writer) throws IOException {\n${t.map((e=>{const t=(0,c.Gu)(e.type),n=this._schema.getType(t.name.value),i=this._getWriterMethodByType(n,!0);return(0,c.WY)(`writer.${i.name}("${e.variable.name.value}", ${i.checkNull?`${e.variable.name.value} != null ? ${e.variable.name.value}${i.useMarshaller?".marshaller()":""} : null`:e.variable.name.value});`,2)})).join("\n")}\n  }\n};`;return this._imports.add(y.InputFieldMarshaller),this._imports.add(y.InputFieldWriter),this._imports.add(y.IOException),i.addClassMethod("marshaller","InputFieldMarshaller",o,[],[],"public",{},["Override"]),i}_getWriterMethodByType(e,t=!1){return(0,a.KA)(e)?T[e.name]&&(t||"ID"!==e.name)?{name:T[e.name],checkNull:!1,useMarshaller:!1}:{name:"writeCustom",checkNull:!1,useMarshaller:!1,castTo:"ResponseField.CustomTypeField"}:(0,a.hL)(e)?{name:"writeObject",checkNull:!0,useMarshaller:!0}:(0,a.EM)(e)?{name:"writeString",checkNull:!1,useMarshaller:!1}:(0,a.lp)(e)||(0,a.oT)(e)?{name:"writeObject",checkNull:!0,useMarshaller:!0}:{name:"writeString",useMarshaller:!1,checkNull:!1}}createBuilderClass(e,t){const n="Builder",i=(new u.o$).static().final().access("public").asKind("class").withName(n).addClassMethod(n,null,"");t.forEach((e=>{const t=(0,c.Gu)(e.type),r=this._schema.getType(t.name.value),s=this.getJavaClass(r),o=(0,a.zM)(e.type)?"Nonnull":"Nullable";this._imports.add(y[o]),i.addClassMember(e.variable.name.value,s,null,[o],"private"),i.addClassMethod(e.variable.name.value,n,`this.${e.variable.name.value} = ${e.variable.name.value};\nreturn this;`,[{name:e.variable.name.value,type:s,annotations:[o]}],[],"public")})),this._imports.add(y.Utils);const r=t.filter((e=>(0,a.zM)(e))).map((e=>`Utils.checkNotNull(${e.variable.name.value}, "${e.variable.name.value} == null");`)),s=`return new ${e}(${t.map((e=>e.variable.name.value)).join(", ")});`;return i.addClassMethod("build",e,`${[...r,s].join("\n")}`,[],[],"public"),i}}var M;!function(e){e[e.INPUT_TYPE=0]="INPUT_TYPE",e[e.OPERATION=1]="OPERATION",e[e.FRAGMENT=2]="FRAGMENT",e[e.CUSTOM_TYPES=3]="CUSTOM_TYPES"}(M||(M={}));const C=["String","Float","Int","Boolean"];class x extends _{constructor(e,t){super(e,t,{typePackage:t.typePackage||"type"})}extract(e){const t=e.lastIndexOf(".");return-1===t?{className:e,importFrom:y[e]||null}:{className:e.substring(t+1),importFrom:e}}additionalContent(){this._imports.add(y.ScalarType),this._imports.add(y.Class),this._imports.add(y.Override),this._imports.add(y.Generated);const e=this._schema.getTypeMap(),t=Object.keys(e).filter((t=>(0,a.KA)(e[t])&&!C.includes(t))).map((t=>e[t])).map((e=>{const t=e.name.toUpperCase(),n=this.extract(this.scalars[e.name]||"String");return n.importFrom&&this._imports.add(n.importFrom),(0,c.dC)(`${t} {\n  @Override\n  public String typeName() {\n    return "${e.name}";\n  }\n\n  @Override\n  public Class javaType() {\n    return ${n.className}.class;\n  }\n}`)})).join(",\n\n");return(new u.o$).annotate(['Generated("Apollo GraphQL")']).access("public").asKind("enum").withName("CustomType").implements(["ScalarType"]).withBlock(t).string}getPackage(){return this.config.typePackage}}const I=(e,t,n)=>{const a=(0,l.n)(t.map((e=>e.document))),s=[...a.definitions.filter((e=>e.kind===r.h.FRAGMENT_DEFINITION)).map((e=>({node:e,name:e.name.value,onType:e.typeCondition.name.value,isExternal:!1}))),...n.externalFragments||[]];let o;switch(n.fileType){case M.FRAGMENT:case M.OPERATION:o=new S(e,n,s);break;case M.INPUT_TYPE:o=new N(e,n);break;case M.CUSTOM_TYPES:o=new x(e,n)}if(!o)return{content:""};const p=(0,i.fX)(a,o),c=o.additionalContent(),u=o.getImports();return{prepend:[`package ${o.getPackage()};\n`,...u],content:"\n"+[...p.definitions.filter((e=>e&&"string"==typeof e)),c].join("\n")}},w=e=>`./${e.split(".").join("/")}/`,k={buildGeneratesSection:e=>{const t=e.baseOutputDir,n=[];(0,p.Vn)(e.schema,{InputObjectTypeDefinition:{enter(e){n.push(e)}}});const i={kind:r.h.DOCUMENT,definitions:n},a=(0,l.n)(e.documents.map((e=>e.document))),s=a.definitions.filter((e=>e.kind===r.h.OPERATION_DEFINITION)),o=a.definitions.filter((e=>e.kind===r.h.FRAGMENT_DEFINITION)),c=o.map((e=>({isExternal:!0,importFrom:e.name.value,name:e.name.value,onType:e.typeCondition.name.value,node:e})));return[{filename:(0,f.join)(t,w(e.config.typePackage),"CustomType.java"),plugins:e.plugins,pluginMap:e.pluginMap,config:{...e.config,fileType:M.CUSTOM_TYPES},schema:e.schema,documents:[]},...i.definitions.map((n=>{const i={kind:r.h.DOCUMENT,definitions:[n]};return{filename:(0,f.join)(t,w(e.config.typePackage),n.name.value+".java"),plugins:e.plugins,pluginMap:e.pluginMap,config:{...e.config,fileType:M.INPUT_TYPE,skipDocumentsValidation:!0},schema:e.schema,documents:[{document:i,location:""}]}})),...s.map((n=>{const i=n.name.value.toLowerCase().endsWith(n.operation)?n.name.value:`${n.name.value}${(0,h.pascalCase)(n.operation)}`,a={kind:r.h.DOCUMENT,definitions:[n]};return{filename:(0,f.join)(t,w(e.config.package),i+".java"),plugins:e.plugins,pluginMap:e.pluginMap,config:{...e.config,fileType:M.OPERATION,externalFragments:c},schema:e.schema,documents:[{document:a,location:""}]}})),...o.map((n=>{const i={kind:r.h.DOCUMENT,definitions:[n]};return{filename:(0,f.join)(t,w(e.config.fragmentPackage),n.name.value+".java"),plugins:e.plugins,pluginMap:e.pluginMap,config:{...e.config,fileType:M.FRAGMENT,externalFragments:c},schema:e.schema,documents:[{document:i,location:""}]}}))]}}},53525:function(e,t,n){"use strict";n.d(t,{ZU:function(){return u},o$:function(){return c},yF:function(){return o},Ke:function(){return l}});var i=n(21962),a=n(57554),r=n(53772),s=n(783);function o(e){return s(e||"").replace(/src\/main\/.*?\//,"").replace(/\//g,".")}function l(e,t,n="Iterable"){if(t.kind===a.h.NON_NULL_TYPE)return l(e,t.type,n);if(t.kind===a.h.LIST_TYPE){return`${n}<${l(e,t.type,n)}>`}return e}function p(e){const t=r(e);if(0===t)return e;const n=new RegExp(`^[ \\t]{${t}}`,"gm");return e.replace(n,"")}class c{constructor(){this._name=null,this._extendStr=[],this._implementsStr=[],this._kind=null,this._access="public",this._final=!1,this._static=!1,this._block=null,this._comment=null,this._annotations=[],this._members=[],this._methods=[],this._nestedClasses=[]}nestedClass(e){return this._nestedClasses.push(e),this}access(e){return this._access=e,this}asKind(e){return this._kind=e,this}final(){return this._final=!0,this}static(){return this._static=!0,this}annotate(e){return this._annotations=e,this}withComment(e){return e&&(this._comment=(0,i.T5)(e,0)),this}withBlock(e){return this._block=e,this}extends(e){return this._extendStr=e,this}implements(e){return this._implementsStr=e,this}withName(e){return this._name="object"==typeof e?e.value:e,this}printMember(e){const t=e.flags||{};return[e.access,t.static?"static":null,t.final?"final":null,t.transient?"transient":null,t.volatile?"volatile":null,...(e.annotations||[]).map((e=>`@${e}`)),e.type,e.name].filter((e=>e)).join(" ")+(e.value?` = ${e.value}`:"")}printMethod(e){const t=[...e.methodAnnotations.map((e=>`@${e}\n`)),e.access,e.flags.static?"static":null,e.flags.final?"final":null,e.flags.transient?"transient":null,e.flags.volatile?"volatile":null,...(e.returnTypeAnnotations||[]).map((e=>`@${e}`)),e.returnType,e.name].filter((e=>e)),n=e.args.map((e=>this.printMember(e))).join(", ");return`${t.join(" ")}(${n}) {\n${(0,i.dC)(e.implementation)}\n}`}addClassMember(e,t,n,i=[],a=null,r={}){return this._members.push({name:e,type:t,value:n,annotations:i,access:a,flags:{final:!1,transient:!1,volatile:!1,static:!1,...r}}),this}addClassMethod(e,t,n,i=[],a=[],r=null,s={},o=[]){return this._methods.push({name:e,returnType:t,implementation:n,args:i,returnTypeAnnotations:a,access:r,flags:{final:!1,transient:!1,volatile:!1,static:!1,...s},methodAnnotations:o||[]}),this}get string(){let e="";if(this._kind){let t="";this._name&&(t=this._name);let n="",i="",a="";const r=this._final?" final":"",s=this._static?" static":"";this._extendStr.length>0&&(n=` extends ${this._extendStr.join(", ")}`),this._implementsStr.length>0&&(i=` implements ${this._implementsStr.join(", ")}`),this._annotations.length>0&&(a=this._annotations.map((e=>`@${e}`)).join("\n")+"\n"),e+=`${a}${this._access}${s}${r} ${this._kind} ${t}${n}${i} `}return e+=["{",this._members.length?(0,i.dC)(p(this._members.map((e=>this.printMember(e)+";")).join("\n"))):null,this._methods.length?(0,i.dC)(p(this._methods.map((e=>this.printMethod(e))).join("\n\n"))):null,this._nestedClasses.length?this._nestedClasses.map((e=>(0,i.dC)(e.string))).join("\n\n"):null,this._block,"}"].filter((e=>e)).join("\n"),(this._comment?this._comment:"")+e+"\n"}}const u={ID:"Object",String:"String",Boolean:"Boolean",Int:"Integer",Float:"Double"}},21962:function(e,t,n){"use strict";n.d(t,{kZ:function(){return re},z7:function(){return se},Xw:function(){return he},wq:function(){return ae},NU:function(){return ne},eV:function(){return ue},T:function(){return v},yP:function(){return w},UX:function(){return pe},PY:function(){return D},$F:function(){return ie},XN:function(){return fe},N5:function(){return de},y4:function(){return F},Wv:function(){return j},Sm:function(){return E},YC:function(){return Z},Vp:function(){return ee},Gu:function(){return k},m6:function(){return S},hu:function(){return W},WY:function(){return C},dC:function(){return x},z_:function(){return X},A_:function(){return ge},Au:function(){return N},sD:function(){return te},T5:function(){return I},d2:function(){return $},l8:function(){return q},Ke:function(){return G},wP:function(){return M}});var i=n(57554),a=n(1346),r=n(37173),s=n(82299),o=n(63459),l=n(50408),p=n(44880),c=n(67425),u=n(59606),m=n(55461),d=n(37358),h=n(59280),f=n(27001),g=n(10275),y=n(76378),T=n(30138);const v={ID:"string",String:"string",Boolean:"boolean",Int:"number",Float:"number"};var _;function N(e,t=null,n){if(e.includes("#")){const{isNamespace:i,isDefault:a,hasAlias:r,items:s}=function(e){return 3===e.split("#").length}(e)?function(e){const t=e.split("#"),n=3===t.length,i="default"===t[1].trim()||t[1].startsWith("default "),a=t[1].includes(" as ");return{items:t,isDefault:i,isNamespace:n,hasAlias:a}}(e):function(e){const[t,n]=e.split("#"),i=n.includes("."),a="default"===n.trim()||n.startsWith("default "),r=n.includes(" as ");return{items:i?[t,...n.split(".")]:[t,n],isDefault:a,isNamespace:i,hasAlias:r}}(e),o=i?_.Namespace:a?_.Default:_.Regular;function l(e=!1){const[t,n]=s[1].split(/\s+as\s+/),i=p(n);return{importElement:e?i:`${t} as ${i}`,type:i}}function p(e){return n?function(e,t){const n=e.indexOf("<");if(-1===n)return`${e}${t}`;return`${e.slice(0,n)}${t}${e.slice(n)}`}(e,n):e}function c(){switch(o){case _.Namespace:{const[,e,t]=s;return{type:`${e}.${t}`,importElement:e}}case _.Default:{if(r)return l(!0);const e=p(`${t}`);return{importElement:e,type:e}}case _.Regular:{if(r)return l();const e=s[1],t=p(e);return{type:t,importElement:n?`${e} as ${t}`:t}}}}const{type:u,importElement:m}=c();return{default:a,isExternal:!0,source:s[0],type:u,import:m.replace(/<(.*?)>/g,"")}}return{isExternal:!1,type:e}}function $(e,t){const n={};return Object.keys(e).forEach((i=>{const a=N(e[i],i,t);n[i]=a})),n}function b(e,t){const n={};return Object.keys(e).forEach((i=>{const a=N(e[i],i,t);n[i]=a})),n}function F(e,t,n){if(!t||0===t.length)return null;const i=t.find((e=>!0===e.asDefault));let a=t.filter((e=>!e.asDefault));if(n){i&&(a=[{identifier:`default as ${i.identifier}`},...a]);return`import type ${[a.length?`{ ${a.map((e=>e.identifier)).join(", ")} }`:""].filter(Boolean).join(", ")} from '${e}';`}const r=a.length?`{ ${a.map((e=>e.identifier)).join(", ")} }`:"";return`import ${[i?i.identifier:"",r].filter(Boolean).join(", ")} from '${e}';`}!function(e){e[e.Namespace=0]="Namespace",e[e.Default=1]="Default",e[e.Regular=2]="Regular"}(_||(_={}));const S=(e,t)=>null==e?t:e;function M(e,t=!1){return t?"number"==typeof e?`${e}`:`'${e}'`:"number"==typeof e||"string"==typeof e&&!isNaN(parseInt(e))&&parseFloat(e).toString()===e?`${e}`:`'${e}'`}function C(e,t=1){return new Array(t).fill("  ").join("")+e}function x(e,t=1){const n=new Array(t).fill("  ").join(""),i="\n"+n;return n+e.replace(/\n/g,i)}function I(e,t=0,n=!1){if(!e||""===e||n)return"";R(e)&&(e=e.value);let i=(e=e.split("*/").join("*\\/")).split("\n");return 1===i.length?C(`/** ${i[0]} */\n`,t):(i=["/**",...i.map((e=>` * ${e}`))," */\n"],K(i.map((e=>C(e,t))).join("\n")))}class w{constructor(e){this._config=e,this._decorator=null,this._export=!1,this._name=null,this._kind=null,this._methodName=null,this._content=null,this._block=null,this._nameGenerics=null,this._comment=null,this._ignoreBlockWrapper=!1,this._config={blockWrapper:"",blockTransformer:e=>e,enumNameValueSeparator:":",...this._config}}withDecorator(e){return this._decorator=e,this}export(e=!0){return this._config.ignoreExport||(this._export=e),this}asKind(e){return this._kind=e,this}withComment(e,t=!1){return(R(e)?!!e.value:!!e)&&!t&&(this._comment=I(e,0)),this}withMethodCall(e,t=!1){return this._methodName=e,this._ignoreBlockWrapper=t,this}withBlock(e){return this._block=e,this}withContent(e){return this._content=e,this}withName(e,t=null){return this._name=e,this._nameGenerics=t,this}get string(){let e="";if(this._decorator&&(e+=this._decorator+"\n"),this._export&&(e+="export "),this._kind){let t="",n="";["type","const","var","let"].includes(this._kind)&&(t="= "),this._name&&(n=this._name+(this._nameGenerics||"")+" "),e+=this._kind+" "+n+t}if(this._block){this._content&&(e+=this._content);const t=this._ignoreBlockWrapper?"":this._config.blockWrapper,n=t+"}",i=["{"+t,this._block,n].filter((e=>!!e)).join("\n");this._methodName?e+=`${this._methodName}(${this._config.blockTransformer(i)})`:e+=this._config.blockTransformer(i)}else this._content?e+=this._content:this._kind&&(e+=this._config.blockTransformer("{}"));return K((this._comment?this._comment:"")+e+("interface"===this._kind||"enum"===this._kind||"namespace"===this._kind||"function"===this._kind?"":";")+"\n")}}function k(e){return e.kind===i.h.LIST_TYPE||e.kind===i.h.NON_NULL_TYPE?k(e.type):e}function O(e,t,n=!1){return n?t(e):e.split("_").map((e=>t(e))).join("_")}function E(e,t,n=v,i="any"){return j(e,t.scalars,n,t.strictScalars?null:t.defaultScalarType||i)}function j(e,t,n=v,i="any"){const r={};if(Object.keys(n).forEach((e=>{r[e]=N(n[e])})),e){const s=e.getTypeMap();Object.keys(s).map((e=>s[e])).filter((e=>(0,a.KA)(e))).map((e=>{var a;const s=e.name;if("string"==typeof t){const e=N(t+"#"+s,s);r[s]=e}else if(t&&"string"==typeof t[s]){const e=N(t[s],s);r[s]=e}else if(t&&t[s])r[s]={isExternal:!1,type:JSON.stringify(t[s])};else if(null===(a=e.extensions)||void 0===a?void 0:a.codegenScalarType)r[s]={isExternal:!1,type:e.extensions.codegenScalarType};else if(!n[s]){if(null===i)throw new Error(`Unknown scalar type ${s}. Please override it using the "scalars" configuration field!`);r[s]={isExternal:!1,type:i}}}))}else if(t){if("string"==typeof t)throw new Error("Cannot use string scalars mapping when building without a schema");Object.keys(t).forEach((e=>{if("string"==typeof t[e]){const n=N(t[e],e);r[e]=n}else r[e]={isExternal:!1,type:JSON.stringify(t[e])}}))}return r}function R(e){return e&&"object"==typeof e&&e.kind===i.h.STRING}function P(e){return e.trim().replace(/<{.*}>/,"")}const D="export type Omit<T, K extends keyof T> = Pick<T, Exclude<keyof T, K>>;",A="export type RequireFields<T, K extends keyof T> = { [X in Exclude<keyof T, K>]?: T[X] } & { [P in K]-?: NonNullable<T[P]> };";function V(e,t){const n=[...e.selections];for(let i of t.selections){if("FragmentSpread"===i.kind||"InlineFragment"===i.kind){n.push(i);continue}if("Field"!==i.kind)throw new TypeError("Invalid state.");const e=n.find((e=>"Field"===e.kind&&L(e)===L(i)));e&&"Field"===e.kind&&e.selectionSet&&i.selectionSet&&(i={...i,selectionSet:V(e.selectionSet,i.selectionSet)}),n.push(i)}return{kind:i.h.SELECTION_SET,selections:n}}const L=e=>(e.alias||e.name).value;function B(e){return{fields:e.filter((e=>e.kind===i.h.FIELD)),inlines:e.filter((e=>e.kind===i.h.INLINE_FRAGMENT)),spreads:e.filter((e=>e.kind===i.h.FRAGMENT_SPREAD))}}function W(e,t){return(0,a.HG)(t)||(0,a.zM)(t)?W(e,t.ofType):(0,a.lp)(t)?[t]:(0,a.m0)(t)?e.getPossibleTypes(t):[]}function U(e){var t;const n=["skip","include"];return null===(t=e.directives)||void 0===t?void 0:t.some((e=>n.includes(e.name.value)))}function G(e,t,n){let i=t;const r=[];for(;i&&((0,a.zM)(i)?i=i.ofType:r.push(n.wrapOptional),(0,a.HG)(i));)r.push(n.wrapArray),i=i.ofType;return r.reduceRight(((e,t)=>t(e)),e)}function q(e,t){switch(t.kind){case i.h.NAMED_TYPE:return`Maybe<${e}>`;case i.h.NON_NULL_TYPE:return function(e){const t=new RegExp("^Maybe<(.*?)>$","i");if(e.startsWith("Maybe"))return e.replace(t,"$1");return e}(q(e,t.type));case i.h.LIST_TYPE:return`Maybe<Array<${q(e,t.type)}>>`}}function K(e){return e.replace(/ +\n/g,"\n")}function Y(e){if(null!=e){if("string"==typeof e)return e;switch(e.kind){case"OperationDefinition":case"Variable":case"Argument":case"FragmentSpread":case"FragmentDefinition":case"ObjectField":case"Directive":case"NamedType":case"ScalarTypeDefinition":case"ObjectTypeDefinition":case"FieldDefinition":case"InputValueDefinition":case"InterfaceTypeDefinition":case"UnionTypeDefinition":case"EnumTypeDefinition":case"EnumValueDefinition":case"InputObjectTypeDefinition":case"DirectiveDefinition":return Y(e.name);case"Name":return e.value;case"Field":return Y(e.alias||e.name);case"VariableDefinition":return Y(e.variable)}}}function z(e){return(t,n)=>{const i=n&&n.prefix,a=n&&n.suffix,r=function(e){return"string"==typeof e?"typeNames":["EnumValueDefinition","EnumValue"].includes(e.kind)?"enumValues":"typeNames"}(t),s=[i||"",Y(t),a||""].join("");return(o=r,e.namingConvention?"string"==typeof e.namingConvention?"keep"===e.namingConvention?e=>e:(t,n={})=>O(t,(0,l.IF)(e.namingConvention),S((n||{}).transformUnderscore,!1)):"function"==typeof e.namingConvention?(t,n={})=>O(t,e.namingConvention,S((n||{}).transformUnderscore,!1)):"object"==typeof e.namingConvention&&"keep"===e.namingConvention[o]?e=>e:"object"==typeof e.namingConvention?e.namingConvention[o]?(t,n={})=>O(t,(0,l.IF)(e.namingConvention[o]),S((n||{}).transformUnderscore,!0)):(t,n={})=>{const i=e.namingConvention.transformUnderscore||(n||{}).transformUnderscore;return O(t,p.pascalCase,S(i,!1))}:e.namingConvention[o]:(e,t={})=>O(e,p.pascalCase,S((t||{}).transformUnderscore,!1)))(s,n);var o}}function Q({schema:e,mapOrStr:t={},ignoreEnumValuesFromSchema:n}){const i=e.getTypeMap(),r=Object.keys(i).filter((e=>(0,a.EM)(i[e])));if("object"==typeof t){if(!n)for(const n of r){const i=e.getType(n);for(const{name:e,value:a}of i.getValues())a&&a!==e&&(t[n]=t[n]||{},"string"==typeof t[n]||t[n][e]||(t[n][e]="string"==typeof a?a.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/'/g,"\\'"):a))}const i=Object.keys(t).filter((e=>!r.includes(e)));if(i.length>0)throw new l.tF("Invalid 'enumValues' mapping!",`The following types does not exist in your GraphQL schema: ${i.join(", ")}`);return Object.keys(t).reduce(((e,n)=>{const i=t[n];if("string"==typeof i){const t=N(i,n);return{...e,[n]:{isDefault:t.isExternal&&t.default,typeIdentifier:n,sourceFile:t.isExternal?t.source:null,sourceIdentifier:t.type,importIdentifier:t.isExternal?t.import:null,mappedValues:null}}}if("object"==typeof i)return{...e,[n]:{isDefault:!1,typeIdentifier:n,sourceFile:null,sourceIdentifier:null,importIdentifier:null,mappedValues:i}};throw new l.tF('Invalid "enumValues" configuration',`Enum "${n}": expected string or object (with enum values mapping)`)}),{})}return"string"==typeof t?r.filter((e=>!e.startsWith("__"))).reduce(((e,n)=>({...e,[n]:{isDefault:!1,typeIdentifier:n,sourceFile:t,sourceIdentifier:n,importIdentifier:n,mappedValues:null}})),{}):{}}const J={directive:"type",scalar:"type",input:"type",type:"type",interface:"type",arguments:"type"};const H={object:!1,inputValue:!1,field:!1,defaultValue:!1};function X(e){return"boolean"==typeof e?{object:e,inputValue:e,field:e,defaultValue:e}:{...H,...e}}function Z(e,t){const{importSource:n,...i}=e,{identifiers:a,path:r,namespace:s}=n;return ee({importSource:{identifiers:a.filter((e=>"both"===t||t===e.kind)).map((({name:e})=>e)),path:r,namespace:s},...i,typesImport:"type"===t&&e.typesImport})}function ee(e){const{baseDir:t,importSource:n,outputPath:i,typesImport:a}=e,r=function(e,t,n){if(n.startsWith("~"))return n.replace("~","");return function(e,t){if(!(0,c.isAbsolute)(e))throw new Error(`Argument 'from' must be an absolute path, '${e}' given.`);if(!(0,c.isAbsolute)(t))throw new Error(`Argument 'to' must be an absolute path, '${t}' given.`);return n=function(e){const t=u(e);return(0,c.join)(t.dir,t.name).replace(/\\/g,"/")}((0,c.relative)((0,c.dirname)(e),t)),n.startsWith("..")?n:`./${n}`;var n}((0,c.resolve)(e,t),(0,c.resolve)(e,n))}(t,i,n.path),s=n.identifiers&&n.identifiers.length?`{ ${Array.from(new Set(n.identifiers)).join(", ")} }`:"*",o=n.namespace?` as ${n.namespace}`:"";return`${a?"import type":"import"} ${s}${o} from '${r}';${o?"\n":""}`}function te(e){return"string"==typeof e?{path:e}:e}class ne{constructor(e,t){var n;this._declarationBlockConfig={},this._parsedConfig={convert:z(e),typesPrefix:e.typesPrefix||"",typesSuffix:e.typesSuffix||"",externalFragments:e.externalFragments||[],fragmentImports:e.fragmentImports||[],addTypename:!e.skipTypename,nonOptionalTypename:!!e.nonOptionalTypename,useTypeImports:!!e.useTypeImports,dedupeFragments:!!e.dedupeFragments,allowEnumStringTypes:!!e.allowEnumStringTypes,inlineFragmentTypes:null!==(n=e.inlineFragmentTypes)&&void 0!==n?n:"inline",...t||{}},this.scalars={},Object.keys(this.config.scalars||{}).forEach((e=>{this.scalars[e]=this.config.scalars[e].type})),m(this)}getVisitorKindContextFromAncestors(e){return e?e.map((e=>e.kind)).filter(Boolean):[]}get config(){return this._parsedConfig}convertName(e,t){const n="boolean"!=typeof(t&&t.useTypesPrefix)||t.useTypesPrefix,i="boolean"!=typeof(t&&t.useTypesSuffix)||t.useTypesSuffix;let a="";return n&&(a+=this.config.typesPrefix),a+=this.config.convert(e,t),i&&(a+=this.config.typesSuffix),a}getOperationSuffix(e,t){const{omitOperationSuffix:n=!1,dedupeOperationSuffix:i=!1}=this.config,a="string"==typeof e?e:e.name?e.name.value:"";return n||i&&a.toLowerCase().endsWith(t.toLowerCase())?"":t}getFragmentSuffix(e){return this.getOperationSuffix(e,"Fragment")}getFragmentName(e){return this.convertName(e,{suffix:this.getFragmentSuffix(e),useTypesPrefix:!1})}getFragmentVariableName(e){const{omitOperationSuffix:t=!1,dedupeOperationSuffix:n=!1,fragmentVariableSuffix:i="FragmentDoc",fragmentVariablePrefix:a=""}=this.config,r="string"==typeof e?e:e.name.value,s=t?"":n&&r.toLowerCase().endsWith("fragment")&&i.toLowerCase().startsWith("fragment")?i.substring("fragment".length):i;return this.convertName(e,{prefix:a,suffix:s,useTypesPrefix:!1})}getPunctuation(e){return""}}class ie{constructor(e,t,n=null,i=[],a=!0,r={},s=!1,o={}){this._scalars=e,this._convertName=t,this._namespacedImportName=n,this._enumNames=i,this._enumPrefix=a,this._enumValues=r,this._applyCoercion=s,this._directiveArgumentAndInputFieldMappings=o,m(this)}getName(e){return e.name?"string"==typeof e.name?e.name:e.name.value:e.variable?e.variable.name.value:null}transform(e){return e&&0!==e.length?e.map((e=>C(this.transformVariable(e)))).join(`${this.getPunctuation()}\n`)+this.getPunctuation():null}getScalar(e){return`${this._namespacedImportName?`${this._namespacedImportName}.`:""}Scalars['${e}']`}getDirectiveMapping(e){return`DirectiveArgumentAndInputFieldMappings['${e}']`}getDirectiveOverrideType(e){if(!this._directiveArgumentAndInputFieldMappings)return null;return e.map((e=>{const t=e.name.value;return this._directiveArgumentAndInputFieldMappings[t]?this.getDirectiveMapping(t):null})).reverse().find((e=>!!e))||null}transformVariable(e){let t=null;const n=this._namespacedImportName?`${this._namespacedImportName}.`:"";if("string"==typeof e.type)t=e.type;else{const i=k(e.type),a=e.directives?this.getDirectiveOverrideType(e.directives):null,r=i.name.value;t=a||(this._scalars[r]?this.getScalar(r):this._enumValues[r]&&this._enumValues[r].sourceFile?this._enumValues[r].typeIdentifier||this._enumValues[r].sourceIdentifier:`${n}${this._convertName(i,{useTypesPrefix:!this._enumNames.includes(r)||this._enumPrefix})}`)}const a=this.getName(e),r=this.wrapAstTypeWithModifiers(t,e.type,this._applyCoercion),s=null!=e.defaultValue&&void 0!==e.defaultValue,o=e.type.kind===i.h.NON_NULL_TYPE;return`${this.formatFieldString(a,o,s)}: ${this.formatTypeString(r,o,s)}`}wrapAstTypeWithModifiers(e,t,n){throw new Error('You must override "wrapAstTypeWithModifiers" of OperationVariablesToObject!')}formatFieldString(e,t,n){return e}formatTypeString(e,t,n){const i=this._namespacedImportName?`${this._namespacedImportName}.`:"";return n?`${i}Maybe<${e}>`:e}getPunctuation(){return","}}class ae extends ne{constructor(e,t,n,i=v){var a,r;super(t,{enumPrefix:S(t.enumPrefix,!0),onlyOperationTypes:S(t.onlyOperationTypes,!1),addUnderscoreToArgsType:S(t.addUnderscoreToArgsType,!1),enumValues:Q({schema:e,mapOrStr:t.enumValues,ignoreEnumValuesFromSchema:t.ignoreEnumValuesFromSchema}),declarationKind:(r=t.declarationKind,"string"==typeof r?{directive:r,scalar:r,input:r,type:r,interface:r,arguments:r}:{...J,...r}),scalars:E(e,t,i),fieldWrapperValue:S(t.fieldWrapperValue,"T"),wrapFieldDefinitions:S(t.wrapFieldDefinitions,!1),entireFieldWrapperValue:S(t.entireFieldWrapperValue,"T"),wrapEntireDefinitions:S(t.wrapEntireFieldDefinitions,!1),ignoreEnumValuesFromSchema:S(t.ignoreEnumValuesFromSchema,!1),directiveArgumentAndInputFieldMappings:b(null!==(a=t.directiveArgumentAndInputFieldMappings)&&void 0!==a?a:{},t.directiveArgumentAndInputFieldMappingTypeSuffix),...n}),this._schema=e,this._argumentsTransformer=new ie(this.scalars,this.convertName)}getExportPrefix(){return"export "}getFieldWrapperValue(){return this.config.fieldWrapperValue?`${this.getExportPrefix()}type FieldWrapper<T> = ${this.config.fieldWrapperValue};`:""}getEntireFieldWrapperValue(){return this.config.entireFieldWrapperValue?`${this.getExportPrefix()}type EntireFieldWrapper<T> = ${this.config.entireFieldWrapperValue};`:""}getScalarsImports(){return Object.keys(this.config.scalars).map((e=>{const t=this.config.scalars[e];return t.isExternal?this._buildTypeImport(t.import,t.source,t.default):null})).filter((e=>e))}getDirectiveArgumentAndInputFieldMappingsImports(){return Object.keys(this.config.directiveArgumentAndInputFieldMappings).map((e=>{const t=this.config.directiveArgumentAndInputFieldMappings[e];return t.isExternal?this._buildTypeImport(t.import,t.source,t.default):null})).filter((e=>e))}get scalarsDefinition(){const e=Object.keys(this.config.scalars).map((e=>{const t=this.config.scalars[e].type,n=this._schema.getType(e),i=n&&n.astNode&&n.description?I(n.description,1):"",{scalar:a}=this._parsedConfig.declarationKind;return i+C(`${e}: ${t}${this.getPunctuation(a)}`)}));return new w(this._declarationBlockConfig).export().asKind(this._parsedConfig.declarationKind.scalar).withName("Scalars").withComment("All built-in and custom scalars, mapped to their actual values").withBlock(e.join("\n")).string}get directiveArgumentAndInputFieldMappingsDefinition(){const e=Object.entries(this.config.directiveArgumentAndInputFieldMappings);if(0===e.length)return"";const t=[];for(const[n,i]of e){const e=this._schema.getDirective(n),a=(null==e?void 0:e.astNode)&&e.description?I(e.description,1):"",{directive:r}=this._parsedConfig.declarationKind;t.push(a+C(`${n}: ${i.type}${this.getPunctuation(r)}`))}return new w(this._declarationBlockConfig).export().asKind(this._parsedConfig.declarationKind.directive).withName("DirectiveArgumentAndInputFieldMappings").withComment("Type overrides using directives").withBlock(t.join("\n")).string}setDeclarationBlockConfig(e){this._declarationBlockConfig=e}setArgumentsTransformer(e){this._argumentsTransformer=e}NonNullType(e){return e.type}getInputObjectDeclarationBlock(e){return new w(this._declarationBlockConfig).export().asKind(this._parsedConfig.declarationKind.input).withName(this.convertName(e)).withComment(e.description).withBlock(e.fields.join("\n"))}InputObjectTypeDefinition(e){return this.getInputObjectDeclarationBlock(e).string}InputValueDefinition(e){const t=I(e.description,1),{input:n}=this._parsedConfig.declarationKind;let i=e.type;return e.directives&&this.config.directiveArgumentAndInputFieldMappings&&(i=this._getDirectiveOverrideType(e.directives)||i),t+C(`${e.name}: ${i}${this.getPunctuation(n)}`)}Name(e){return e.value}FieldDefinition(e){const t=e.type,{type:n}=this._parsedConfig.declarationKind;return this.getFieldComment(e)+C(`${e.name}: ${t}${this.getPunctuation(n)}`)}UnionTypeDefinition(e,t,n){if(this.config.onlyOperationTypes)return"";const i=n[t].types.map((e=>this.scalars[e.name.value]?this._getScalar(e.name.value):this.convertName(e))).join(" | ");return new w(this._declarationBlockConfig).export().asKind("type").withName(this.convertName(e)).withComment(e.description).withContent(i).string}mergeInterfaces(e,t){return e.join(" & ")+(e.length&&t?" & ":"")}appendInterfacesAndFieldsToBlock(e,t,n){e.withContent(this.mergeInterfaces(t,n.length>0)),e.withBlock(this.mergeAllFields(n,t.length>0))}getObjectTypeDeclarationBlock(e,t){const n=this.config.nonOptionalTypename?"__typename":"__typename?",{type:i,interface:a}=this._parsedConfig.declarationKind,r=[...this.config.addTypename?[C(`${this.config.immutableTypes?"readonly ":""}${n}: '${e.name}'${this.getPunctuation(i)}`)]:[],...e.fields],s=t.interfaces?t.interfaces.map((e=>this.convertName(e))):[],o=new w(this._declarationBlockConfig).export().asKind(i).withName(this.convertName(e)).withComment(e.description);if("interface"===i||"class"===i){if(s.length>0){const e="interface"===a&&"class"===i?"implements":"extends";o.withContent(`${e} `+s.join(", ")+(r.length>0?" ":" {}"))}o.withBlock(this.mergeAllFields(r,!1))}else this.appendInterfacesAndFieldsToBlock(o,s,r);return o}getFieldComment(e){let t=e.description;const n=e.directives.find((e=>"deprecated"===e.name));if(n){t=`${t?`${t}\n`:""}@deprecated ${this.getDeprecationReason(n)}`}return I(t,1)}mergeAllFields(e,t){return e.join("\n")}ObjectTypeDefinition(e,t,n){if(this.config.onlyOperationTypes)return"";const i=n[t];return[this.getObjectTypeDeclarationBlock(e,i).string,this.buildArgumentsBlock(i)].filter((e=>e)).join("\n\n")}getInterfaceTypeDeclarationBlock(e,t){return new w(this._declarationBlockConfig).export().asKind(this._parsedConfig.declarationKind.interface).withName(this.convertName(e)).withComment(e.description).withBlock(e.fields.join("\n"))}InterfaceTypeDefinition(e,t,n){if(this.config.onlyOperationTypes)return"";const i=n[t];return[this.getInterfaceTypeDeclarationBlock(e,i).string,this.buildArgumentsBlock(i)].filter((e=>e)).join("\n\n")}ScalarTypeDefinition(e){return""}_buildTypeImport(e,t,n=!1){const{useTypeImports:i}=this.config;return n?i?`import type { default as ${e} } from '${t}';`:`import ${e} from '${t}';`:`import${i?" type":""} { ${e} } from '${t}';`}handleEnumValueMapper(e,t,n,i){const a=this._buildTypeImport(t||n,i);return t!==n||n!==e?[a,`import ${e} = ${n};`]:[a]}getEnumsImports(){return Object.keys(this.config.enumValues).flatMap((e=>{const t=this.config.enumValues[e];return t.sourceFile?t.isDefault?[this._buildTypeImport(t.typeIdentifier,t.sourceFile,!0)]:this.handleEnumValueMapper(t.typeIdentifier,t.importIdentifier,t.sourceIdentifier,t.sourceFile):[]})).filter(Boolean)}EnumTypeDefinition(e){const t=e.name;return this.config.enumValues[t]&&this.config.enumValues[t].sourceFile?null:new w(this._declarationBlockConfig).export().asKind("enum").withName(this.convertName(e,{useTypesPrefix:this.config.enumPrefix})).withComment(e.description).withBlock(this.buildEnumValuesBlock(t,e.values)).string}StringValue(e){return e.value}makeValidEnumIdentifier(e){return/^[0-9]/.exec(e)?M(e,!0):e}buildEnumValuesBlock(e,t){const n=this._schema?this._schema.getType(e):void 0;return t.map((t=>{const i=this.makeValidEnumIdentifier(this.convertName(t,{useTypesPrefix:!1,transformUnderscore:!0})),a=I(t.description,1),r=n&&!this.config.ignoreEnumValuesFromSchema?n.getValue(t.name).value:void 0;let s=void 0!==r?r:t.name;return this.config.enumValues[e]&&this.config.enumValues[e].mappedValues&&void 0!==this.config.enumValues[e].mappedValues[s]&&(s=this.config.enumValues[e].mappedValues[s]),a+C(`${i}${this._declarationBlockConfig.enumNameValueSeparator} ${M(s,void 0!==r)}`)})).join(",\n")}DirectiveDefinition(e){return""}getArgumentsObjectDeclarationBlock(e,t,n){return new w(this._declarationBlockConfig).export().asKind(this._parsedConfig.declarationKind.arguments).withName(this.convertName(t)).withComment(e.description).withBlock(this._argumentsTransformer.transform(n.arguments))}getArgumentsObjectTypeDefinition(e,t,n){return this.getArgumentsObjectDeclarationBlock(e,t,n).string}buildArgumentsBlock(e){return(e.fields.filter((e=>e.arguments&&e.arguments.length>0))||[]).map((t=>{const n=e.name.value+(this.config.addUnderscoreToArgsType?"_":"")+this.convertName(t,{useTypesPrefix:!1,useTypesSuffix:!1})+"Args";return this.getArgumentsObjectTypeDefinition(e,n,t)})).join("\n\n")}_getScalar(e){return`Scalars['${e}']`}_getDirectiveArgumentNadInputFieldMapping(e){return`DirectiveArgumentAndInputFieldMappings['${e}']`}_getDirectiveOverrideType(e){return e.map((e=>{const t=e.name;return this.config.directiveArgumentAndInputFieldMappings[t]?this._getDirectiveArgumentNadInputFieldMapping(t):null})).reverse().find((e=>!!e))||null}_getTypeForNode(e){const t=e.name;if(this.scalars[t])return this._getScalar(t);if(this.config.enumValues[t])return this.config.enumValues[t].typeIdentifier;const n=this._schema.getType(e.name);return n&&(0,a.EM)(n)?this.convertName(e,{useTypesPrefix:this.config.enumPrefix}):this.convertName(e)}NamedType(e,t,n,a,r){const s=this.getVisitorKindContextFromAncestors(r).includes(i.h.INPUT_OBJECT_TYPE_DEFINITION),o=this._getTypeForNode(e);return!s&&this.config.fieldWrapperValue&&this.config.wrapFieldDefinitions?`FieldWrapper<${o}>`:o}ListType(e,t,n,i,a){const r=e.type;return this.wrapWithListType(r)}SchemaDefinition(){return null}getDeprecationReason(e){if("deprecated"===e.name){let t="Field no longer supported";return e.arguments.length>0&&(t=e.arguments[0].value),t}}wrapWithListType(e){return`Array<${e}>`}}class re extends ne{constructor(e,t,n,i=v){super(e,{exportFragmentSpreadSubTypes:S(e.exportFragmentSpreadSubTypes,!1),enumPrefix:S(e.enumPrefix,!0),preResolveTypes:S(e.preResolveTypes,!0),dedupeOperationSuffix:S(e.dedupeOperationSuffix,!1),omitOperationSuffix:S(e.omitOperationSuffix,!1),skipTypeNameForRoot:S(e.skipTypeNameForRoot,!1),namespacedImportName:S(e.namespacedImportName,null),experimentalFragmentVariables:S(e.experimentalFragmentVariables,!1),addTypename:!e.skipTypename,globalNamespace:!!e.globalNamespace,operationResultSuffix:S(e.operationResultSuffix,""),scalars:E(n,e,i),...t||{}}),this._schema=n,this._unnamedCounter=1,this._globalDeclarations=new Set,m(this),this._variablesTransfomer=new ie(this.scalars,this.convertName,this.config.namespacedImportName)}getGlobalDeclarations(e=!1){return Array.from(this._globalDeclarations).map((t=>e?t:`export ${t}`))}setSelectionSetHandler(e){this._selectionSetToObject=e}setDeclarationBlockConfig(e){this._declarationBlockConfig=e}setVariablesTransformer(e){this._variablesTransfomer=e}get schema(){return this._schema}get addTypename(){return this._parsedConfig.addTypename}handleAnonymousOperation(e){const t=e.name&&e.name.value;return t?this.convertName(t,{useTypesPrefix:!1,useTypesSuffix:!1}):this.convertName(this._unnamedCounter+++"",{prefix:"Unnamed_",suffix:"_",useTypesPrefix:!1,useTypesSuffix:!1})}FragmentDefinition(e){const t=this._schema.getType(e.typeCondition.name.value),n=this._selectionSetToObject.createNext(t,e.selectionSet),i=this.getFragmentSuffix(e);return[n.transformFragmentSelectionSetToTypes(e.name.value,i,this._declarationBlockConfig),this.config.experimentalFragmentVariables?new w({...this._declarationBlockConfig,blockTransformer:e=>this.applyVariablesWrapper(e)}).export().asKind("type").withName(this.convertName(e.name.value,{suffix:i+"Variables"})).withBlock(this._variablesTransfomer.transform(e.variableDefinitions)).string:void 0].filter((e=>e)).join("\n\n")}applyVariablesWrapper(e){return e}OperationDefinition(e){const t=this.handleAnonymousOperation(e),n=function(e,t){switch(e){case"query":return t.getQueryType();case"mutation":return t.getMutationType();case"subscription":return t.getSubscriptionType()}throw new Error(`Unknown operation type: ${e}`)}(e.operation,this._schema);if(!n)throw new Error(`Unable to find root schema type for operation type "${e.operation}"!`);const i=this._selectionSetToObject.createNext(n,e.selectionSet),a=this._variablesTransfomer.transform(e.variableDefinitions),r=(0,p.pascalCase)(e.operation),s=this.getOperationSuffix(t,r),o=new w(this._declarationBlockConfig).export().asKind("type").withName(this.convertName(t,{suffix:s+this._parsedConfig.operationResultSuffix})).withContent(i.transformSelectionSet()).string;return[new w({...this._declarationBlockConfig,blockTransformer:e=>this.applyVariablesWrapper(e)}).export().asKind("type").withName(this.convertName(t,{suffix:s+"Variables"})).withBlock(a).string,o].filter((e=>e)).join("\n\n")}}class se extends ne{constructor(e,t,n,i=v){var r;super(e,{immutableTypes:S(e.immutableTypes,!1),optionalResolveType:S(e.optionalResolveType,!1),enumPrefix:S(e.enumPrefix,!0),federation:S(e.federation,!1),resolverTypeWrapperSignature:S(e.resolverTypeWrapperSignature,"Promise<T> | T"),enumValues:Q({schema:n,mapOrStr:e.enumValues}),addUnderscoreToArgsType:S(e.addUnderscoreToArgsType,!1),onlyResolveTypeForInterfaces:S(e.onlyResolveTypeForInterfaces,!1),contextType:N(e.contextType||"any","ContextType"),fieldContextTypes:S(e.fieldContextTypes,[]),resolverTypeSuffix:S(e.resolverTypeSuffix,"Resolvers"),allResolversTypeName:S(e.allResolversTypeName,"Resolvers"),rootValueType:N(e.rootValueType||"{}","RootValueType"),namespacedImportName:S(e.namespacedImportName,""),avoidOptionals:S(e.avoidOptionals,!1),defaultMapper:e.defaultMapper?N(e.defaultMapper||"any","DefaultMapperType"):null,mappers:$(e.mappers||{},e.mapperTypeSuffix),scalars:E(n,e,i),internalResolversPrefix:S(e.internalResolversPrefix,"__"),...t||{}}),this._schema=n,this._declarationBlockConfig={},this._collectedResolvers={},this._collectedDirectiveResolvers={},this._usedMappers={},this._resolversTypes={},this._resolversParentTypes={},this._rootTypeNames=new Set,this._globalDeclarations=new Set,this._hasScalars=!1,this._hasFederation=!1,m(this),this._federation=new l.u3({enabled:this.config.federation,schema:this.schema}),this._rootTypeNames=(0,d.K)(n),this._variablesTransformer=new ie(this.scalars,this.convertName,this.config.namespacedImportName),this._resolversTypes=this.createResolversFields((e=>this.applyResolverTypeWrapper(e)),(e=>this.clearResolverTypeWrapper(e)),(e=>this.getTypeToUse(e))),this._resolversParentTypes=this.createResolversFields((e=>e),(e=>e),(e=>this.getParentTypeToUse(e)),(e=>!(0,a.EM)(e))),this._fieldContextTypeMap=this.createFieldContextTypeMap(),this._directiveResolverMappings=null!==(r=e.directiveResolverMappings)&&void 0!==r?r:{}}getResolverTypeWrapperSignature(){return`export type ResolverTypeWrapper<T> = ${this.config.resolverTypeWrapperSignature};`}shouldMapType(e,t={},n=[]){if(void 0!==t[e.name])return t[e.name];if(e.name.startsWith("__")||this.config.scalars[e.name])return!1;if(this.config.mappers[e.name])return!0;if((0,a.lp)(e)||(0,a.oT)(e)){const i=e.getFields();return Object.keys(i).filter((e=>{const t=i[e],a=(0,l.Wp)(t.type);return!n.includes(a.name)})).some((a=>{const r=i[a],s=(0,l.Wp)(r.type);if(void 0!==t[s.name])return t[s.name];if(this.config.mappers[e.name])return!0;n.push(e.name);return this.shouldMapType(s,t,n)}))}return!1}convertName(e,t,n=!1){const i=super.convertName(e,t);return`${n&&this.config.namespacedImportName?this.config.namespacedImportName+".":""}${i}`}createResolversFields(e,t,n,i){const r=this._schema.getTypeMap(),s={},o=this._federation.filterTypeNames(Object.keys(r));return o.forEach((e=>{const t=r[e];s[e]=this.shouldMapType(t,s)})),o.reduce(((o,p)=>{const c=r[p];if(p.startsWith("__")||i&&!i(c))return o;let u=!1;const m=this._rootTypeNames.has(p),d=this.config.mappers[p],h=this.config.scalars[p],f=!(!this.config.defaultMapper||!this.config.defaultMapper.type);if(m)return o[p]=e(this.config.rootValueType.type),o;if(d&&this.config.mappers[p].type)this.markMapperAsUsed(p),o[p]=e(this.config.mappers[p].type);else{if((0,a.oT)(c)){const e=this._schema.getTypeMap(),t=[];for(const n of Object.values(e))if(n instanceof a.h6){n.getInterfaces().some((e=>e.name===c.name))&&t.push(n.name)}const i=t.map((e=>n(e))).join(" | ")||"never";return o[p]=i,o}(0,a.EM)(c)&&this.config.enumValues[p]?o[p]=this.config.enumValues[p].sourceIdentifier||this.convertName(this.config.enumValues[p].typeIdentifier):f&&!le(this.config.defaultMapper.type)?o[p]=e(this.config.defaultMapper.type):h?o[p]=e(this._getScalar(p)):(0,a.EN)(c)?o[p]=c.getTypes().map((e=>n(e.name))).join(" | "):(u=!0,o[p]=this.convertName(p,{useTypesPrefix:this.config.enumPrefix},!0))}if(u&&"any"!==o[p]&&(0,a.lp)(c)){const t=c.getFields(),r=this._federation.filterFieldNames(Object.keys(t)).filter((e=>{const n=t[e],a=(0,l.Wp)(n.type);return!(i&&!i(a))})).map((e=>{const i=t[e],r=(0,l.Wp)(i.type),o=(0,a.EN)(r);if(!this.config.mappers[r.name]&&!o&&!s[r.name])return null;return{addOptionalSign:!this.config.avoidOptionals&&!(0,a.zM)(i.type),fieldName:e,replaceWithType:G(n(r.name),i.type,{wrapOptional:this.applyMaybe,wrapArray:this.wrapWithArray})}})).filter((e=>e));r.length>0?o[p]=e(this.replaceFieldsInType(o[p],r)):o[p]=e(o[p])}if(d&&le(o[p])&&(o[p]=oe(o[p],p)),!d&&f&&le(this.config.defaultMapper.type)){const n=t(h?this._getScalar(p):o[p]),i=oe(this.config.defaultMapper.type,n);(0,a.EN)(c)?o[p]=i:o[p]=e(oe(this.config.defaultMapper.type,n))}return o}),{})}replaceFieldsInType(e,t){return this._globalDeclarations.add(D),`Omit<${e}, ${t.map((e=>`'${e.fieldName}'`)).join(" | ")}> & { ${t.map((e=>`${e.fieldName}${e.addOptionalSign?"?":""}: ${e.replaceWithType}`)).join(", ")} }`}applyMaybe(e){return`${this.config.namespacedImportName?this.config.namespacedImportName+".":""}Maybe<${e}>`}applyResolverTypeWrapper(e){return`ResolverTypeWrapper<${this.clearResolverTypeWrapper(e)}>`}clearMaybe(e){const t=this.config.namespacedImportName?this.config.namespacedImportName+".":"";if(e.startsWith(`${t}Maybe<`)){const n=new RegExp(`${t.replace(".","\\.")}Maybe<(.*?)>$`);return e.replace(n,"$1")}return e}clearResolverTypeWrapper(e){return e.startsWith("ResolverTypeWrapper<")?e.replace(/ResolverTypeWrapper<(.*?)>$/,"$1"):e}wrapWithArray(e){return this.config.immutableTypes?`ReadonlyArray<${e}>`:`Array<${e}>`}createFieldContextTypeMap(){return this.config.fieldContextTypes.reduce(((e,t)=>{const n=t.split("#");if(3===n.length){const[t,i,a]=n;return{...e,[t]:N(`${i}#${a}`)}}const[i,a]=n;return{...e,[i]:N(a)}}),{})}buildResolversTypes(){const e="type";return new w(this._declarationBlockConfig).export().asKind(e).withName(this.convertName("ResolversTypes")).withComment("Mapping between all available schema types and the resolvers types").withBlock(Object.keys(this._resolversTypes).map((t=>C(`${t}: ${this._resolversTypes[t]}${this.getPunctuation(e)}`))).join("\n")).string}buildResolversParentTypes(){const e="type";return new w(this._declarationBlockConfig).export().asKind(e).withName(this.convertName("ResolversParentTypes")).withComment("Mapping between all available schema types and the resolvers parents").withBlock(Object.keys(this._resolversParentTypes).map((t=>C(`${t}: ${this._resolversParentTypes[t]}${this.getPunctuation(e)}`))).join("\n")).string}get schema(){return this._schema}get defaultMapperType(){return this.config.defaultMapper.type}get unusedMappers(){return Object.keys(this.config.mappers).filter((e=>!this._usedMappers[e]))}get globalDeclarations(){return Array.from(this._globalDeclarations)}isMapperImported(e,t,n){const i=!!e[n]&&!!e[n].find((e=>e.identifier===t)),a=!!Object.keys(this.config.enumValues).map((e=>this.config.enumValues[e])).find((e=>e.sourceFile===n&&e.typeIdentifier===t));return i||a}get mappersImports(){const e={},t=(t,n,i)=>{this.isMapperImported(e,n,t)||(e[t]||(e[t]=[]),e[t].push({identifier:n,asDefault:i}))};if(Object.keys(this.config.mappers).map((e=>({gqlType:e,mapper:this.config.mappers[e]}))).filter((({mapper:e})=>e.isExternal)).forEach((({mapper:e})=>{const n=e,i=P(n.import);t(n.source,i,n.default)})),this.config.contextType.isExternal&&t(this.config.contextType.source,this.config.contextType.import,this.config.contextType.default),this.config.rootValueType.isExternal&&t(this.config.rootValueType.source,this.config.rootValueType.import,this.config.rootValueType.default),this.config.defaultMapper&&this.config.defaultMapper.isExternal){const e=P(this.config.defaultMapper.import);t(this.config.defaultMapper.source,e,this.config.defaultMapper.default)}return Object.values(this._fieldContextTypeMap).forEach((e=>{e.isExternal&&t(e.source,e.import,e.default)})),Object.keys(e).map((t=>F(t,e[t],this.config.useTypeImports))).filter(Boolean)}setDeclarationBlockConfig(e){this._declarationBlockConfig=e}setVariablesTransformer(e){this._variablesTransformer=e}hasScalars(){return this._hasScalars}hasFederation(){return this._hasFederation}getRootResolver(){const e=this.convertName(this.config.allResolversTypeName),t="type",n=`<ContextType = ${this.config.contextType.type}>`;return[new w(this._declarationBlockConfig).export().asKind(t).withName(e,n).withBlock(Object.keys(this._collectedResolvers).map((e=>{const n=this._collectedResolvers[e];return C(this.formatRootResolver(e,n,t))})).join("\n")).string].join("\n")}formatRootResolver(e,t,n){return`${e}${this.config.avoidOptionals?"":"?"}: ${t}${this.getPunctuation(n)}`}getAllDirectiveResolvers(){if(Object.keys(this._collectedDirectiveResolvers).length){const e="type",t=this.convertName("DirectiveResolvers"),n=`<ContextType = ${this.config.contextType.type}>`;return[new w(this._declarationBlockConfig).export().asKind(e).withName(t,n).withBlock(Object.keys(this._collectedDirectiveResolvers).map((t=>{const n=this._collectedDirectiveResolvers[t];return C(this.formatRootResolver(t,n,e))})).join("\n")).string].join("\n")}return""}Name(e){return e.value}ListType(e){const t=e.type;return this.wrapWithArray(t)}_getScalar(e){return`${this.config.namespacedImportName?this.config.namespacedImportName+".":""}Scalars['${e}']`}NamedType(e){const t=e.name;return this.config.scalars[t]?this._getScalar(t):this.convertName(e,null,!0)}NonNullType(e){return e.type}markMapperAsUsed(e){this._usedMappers[e]=!0}getTypeToUse(e){return`${this.convertName("ResolversTypes")}['${e}']`}getParentTypeToUse(e){return`${this.convertName("ResolversParentTypes")}['${e}']`}getParentTypeForSignature(e){return"ParentType"}transformParentGenericType(e){return`ParentType extends ${e} = ${e}`}FieldDefinition(e,t,n){const i=e.arguments&&e.arguments.length>0;return a=>{var r,s,o;const l=n[t],p=k(l.type).name.value,c=this.schema.getType(a);if(this._federation.skipField({fieldNode:l,parentType:c}))return null;const u=this.getTypeToUse(p),m=this._variablesTransformer.wrapAstTypeWithModifiers(u,l.type),d=this._schema.getSubscriptionType(),h=d&&d.name===a;let f=i?this.convertName(a+(this.config.addUnderscoreToArgsType?"_":"")+this.convertName(e.name,{useTypesPrefix:!1,useTypesSuffix:!1})+"Args",{useTypesPrefix:!0},!0):null;if(null!==f){const e=l.arguments.filter((e=>!!e.defaultValue||"NonNullType"===e.type.kind));e.length>0?f=this.applyRequireFields(f,e):l.arguments.length>0&&(f=this.applyOptionalFields(f,l.arguments))}const g=this._federation.transformParentType({fieldNode:l,parentType:c,parentTypeSignature:this.getParentTypeForSignature(e)}),y=h?`${m}, "${e.name}"`:m,T=null!==(s=null===(r=e.directives)||void 0===r?void 0:r.map((e=>this._directiveResolverMappings[e.name])).filter(Boolean).reverse())&&void 0!==s?s:[],v=h?"SubscriptionResolver":null!==(o=T[0])&&void 0!==o?o:"Resolver",_={name:e.name,modifier:this.config.avoidOptionals?"":"?",type:v,genericTypes:[y,g,this._fieldContextTypeMap[`${a}.${e.name}`]?this._fieldContextTypeMap[`${a}.${e.name}`].type:"ContextType",f].filter((e=>e))};return this._federation.isResolveReferenceField(e)&&(this._hasFederation=!0,_.type="ReferenceResolver",_.genericTypes.length>=3&&(_.genericTypes=_.genericTypes.slice(0,3))),C(`${_.name}${_.modifier}: ${_.type}<${_.genericTypes.join(", ")}>${this.getPunctuation("type")}`)}}applyRequireFields(e,t){return this._globalDeclarations.add(A),`RequireFields<${e}, ${t.map((e=>`'${e.name.value}'`)).join(" | ")}>`}applyOptionalFields(e,t){return this._globalDeclarations.add(A),`RequireFields<${e}, never>`}ObjectTypeDefinition(e){var t,n,i;const a="type",r=this.convertName(e,{suffix:this.config.resolverTypeSuffix}),s=e.name,o=this.getParentTypeToUse(s),l=[null===(t=this.schema.getQueryType())||void 0===t?void 0:t.name,null===(n=this.schema.getMutationType())||void 0===n?void 0:n.name,null===(i=this.schema.getSubscriptionType())||void 0===i?void 0:i.name].includes(s),p=e.fields.map((t=>t(e.name)));l||p.push(C(`${this.config.internalResolversPrefix}isTypeOf?: IsTypeOfResolverFn<ParentType, ContextType>${this.getPunctuation(a)}`));const c=new w(this._declarationBlockConfig).export().asKind(a).withName(r,`<ContextType = ${this.config.contextType.type}, ${this.transformParentGenericType(o)}>`).withBlock(p.join("\n"));return this._collectedResolvers[e.name]=r+"<ContextType>",c.string}UnionTypeDefinition(e,t,n){const i="type",a=this.convertName(e,{suffix:this.config.resolverTypeSuffix}),r=n[t].types.map((e=>e.name.value)).map((e=>`'${e}'`)).join(" | ");this._collectedResolvers[e.name]=a+"<ContextType>";const s=this.getParentTypeToUse(e.name);return new w(this._declarationBlockConfig).export().asKind(i).withName(a,`<ContextType = ${this.config.contextType.type}, ${this.transformParentGenericType(s)}>`).withBlock(C(`${this.config.internalResolversPrefix}resolveType${this.config.optionalResolveType?"?":""}: TypeResolveFn<${r}, ParentType, ContextType>${this.getPunctuation(i)}`)).string}ScalarTypeDefinition(e){const t=e.name,n=this.getTypeToUse(t);return this._federation.skipScalar(t)?null:(this._hasScalars=!0,this._collectedResolvers[e.name]="GraphQLScalarType",new w({...this._declarationBlockConfig,blockTransformer:e=>e}).export().asKind("interface").withName(this.convertName(e,{suffix:"ScalarConfig"}),` extends GraphQLScalarTypeConfig<${n}, any>`).withBlock(C(`name: '${e.name}'${this.getPunctuation("interface")}`)).string)}DirectiveDefinition(e,t,n){if(this._federation.skipDirective(e.name))return null;const i=this.convertName(e,{suffix:"DirectiveResolver"}),a=n[t],r=a.arguments&&a.arguments.length>0;this._collectedDirectiveResolvers[e.name]=i+"<any, any, ContextType>";const s=this.convertName(e,{suffix:"DirectiveArgs"});return[new w({...this._declarationBlockConfig,blockTransformer:e=>e}).export().asKind("type").withName(s).withContent(r?`{\n${this._variablesTransformer.transform(a.arguments)}\n}`:"{ }").string,new w({...this._declarationBlockConfig,blockTransformer:e=>e}).export().asKind("type").withName(i,`<Result, Parent, ContextType = ${this.config.contextType.type}, Args = ${s}>`).withContent("DirectiveResolverFn<Result, Parent, ContextType, Args>").string].join("\n")}buildEnumResolverContentBlock(e,t){throw new Error("buildEnumResolverContentBlock is not implemented!")}buildEnumResolversExplicitMappedValues(e,t){throw new Error("buildEnumResolversExplicitMappedValues is not implemented!")}EnumTypeDefinition(e){const t=e.name;if(!this.config.mappers[t]&&!this.config.enumValues[t])return null;const n=this.convertName(e,{suffix:this.config.resolverTypeSuffix});this._collectedResolvers[t]=n;const i=this.config.enumValues[t]&&this.config.enumValues[t].mappedValues;return new w(this._declarationBlockConfig).export().asKind("type").withName(n).withContent(i?this.buildEnumResolversExplicitMappedValues(e,this.config.enumValues[t].mappedValues):this.buildEnumResolverContentBlock(e,this.getTypeToUse(t))).string}InterfaceTypeDefinition(e){const t=this.convertName(e,{suffix:this.config.resolverTypeSuffix}),n="type",i=this._schema.getTypeMap(),r=[];this._collectedResolvers[e.name]=t+"<ContextType>";for(const p of Object.values(i))if(p instanceof a.h6){p.getInterfaces().find((t=>t.name===e.name))&&r.push(p.name)}const s=this.getParentTypeToUse(e.name),o=r.map((e=>`'${e}'`)).join(" | ")||"null",l=this.config.onlyResolveTypeForInterfaces?[]:e.fields||[];return new w(this._declarationBlockConfig).export().asKind(n).withName(t,`<ContextType = ${this.config.contextType.type}, ${this.transformParentGenericType(s)}>`).withBlock([C(`${this.config.internalResolversPrefix}resolveType${this.config.optionalResolveType?"?":""}: TypeResolveFn<${o}, ParentType, ContextType>${this.getPunctuation(n)}`),...l.map((t=>t(e.name)))].join("\n")).string}SchemaDefinition(){return null}}function oe(e,t){return e.replace(/\{T\}/g,t)}function le(e){return e.includes("{T}")}var pe;f.ZP.enableExperimentalFragmentVariables(),function(e){e.graphQLTag="graphQLTag",e.documentNode="documentNode",e.documentNodeImportFragments="documentNodeImportFragments",e.external="external",e.string="string"}(pe||(pe={}));const ce=[".ts",".tsx",".js",".jsx"];class ue extends ne{constructor(e,t,n,i,a){super(n,{scalars:E(e,n),dedupeOperationSuffix:S(n.dedupeOperationSuffix,!1),optimizeDocumentNode:S(n.optimizeDocumentNode,!0),omitOperationSuffix:S(n.omitOperationSuffix,!1),gqlImport:n.gqlImport||null,documentNodeImport:n.documentNodeImport||null,noExport:!!n.noExport,importOperationTypesFrom:S(n.importOperationTypesFrom,null),operationResultSuffix:S(n.operationResultSuffix,""),documentVariablePrefix:S(n.documentVariablePrefix,""),documentVariableSuffix:S(n.documentVariableSuffix,"Document"),fragmentVariablePrefix:S(n.fragmentVariablePrefix,""),fragmentVariableSuffix:S(n.fragmentVariableSuffix,"FragmentDoc"),documentMode:(e=>"boolean"==typeof e.noGraphQLTag?e.noGraphQLTag?pe.documentNode:pe.graphQLTag:S(e.documentMode,pe.graphQLTag))(n),importDocumentNodeExternallyFrom:S(n.importDocumentNodeExternallyFrom,""),pureMagicComment:S(n.pureMagicComment,!1),experimentalFragmentVariables:S(n.experimentalFragmentVariables,!1),...i}),this._schema=e,this._fragments=t,this._collectedOperations=[],this._documents=[],this._additionalImports=[],this._imports=new Set,this._documents=a,m(this)}_extractFragments(e,t=!1){if(!e)return[];const n=new Set;return(0,l.fX)(e,{enter:{FragmentSpread:e=>{if(n.add(e.name.value),t){const t=this._fragments.find((t=>t.name===e.name.value));if(t){const e=this._extractFragments(t.node,!0);if(e&&e.length>0)for(const t of e)n.add(t)}}}}}),Array.from(n)}_transformFragments(e){const t=this.config.documentMode===pe.documentNode||this.config.dedupeFragments&&"OperationDefinition"===e.kind;return this._extractFragments(e,t).map((e=>this.getFragmentVariableName(e)))}_includeFragments(e,t){return e&&e.length>0?this.config.documentMode===pe.documentNode?this._fragments.filter((t=>e.includes(this.getFragmentVariableName(t.name)))).map((e=>(0,r.S)(e.node))).join("\n"):this.config.documentMode===pe.documentNodeImportFragments||this.config.dedupeFragments&&"OperationDefinition"!==t?"":`${e.map((e=>"${"+e+"}")).join("\n")}`:""}_prepareDocument(e){return e}_gql(e){const t=this._transformFragments(e),n=this._prepareDocument(`\n    ${(0,r.S)(e).split("\\").join("\\\\")}\n    ${this._includeFragments(t,e.kind)}`);if(this.config.documentMode===pe.documentNode){let e=(0,f.ZP)([n]);return this.config.optimizeDocumentNode&&(e=(0,g.kQ)(e)),JSON.stringify(e)}if(this.config.documentMode===pe.documentNodeImportFragments){let a=(0,f.ZP)([n]);if(this.config.optimizeDocumentNode&&(a=(0,g.kQ)(a)),t.length>0&&(!this.config.dedupeFragments||"OperationDefinition"===e.kind)){const e=[...a.definitions.map((e=>JSON.stringify(e))),...t.map((e=>`...${e}.definitions`))].join();return`{"kind":"${i.h.DOCUMENT}","definitions":[${e}]}`}return JSON.stringify(a)}if(this.config.documentMode===pe.string)return"`"+n+"`";return(this._parseImport(this.config.gqlImport||"graphql-tag").propName||"gql")+"`"+n+"`"}_generateFragment(e){const t=this.getFragmentVariableName(e),n=this.getFragmentSuffix(e);return`export const ${t} =${this.config.pureMagicComment?" /*#__PURE__*/":""} ${this._gql(e)}${this.getDocumentNodeSignature(this.convertName(e.name.value,{useTypesPrefix:!0,suffix:n}),this.config.experimentalFragmentVariables?this.convertName(e.name.value,{suffix:n+"Variables"}):"unknown",e)};`}get fragmentsGraph(){const e=new h.f({circular:!0});for(const t of this._fragments){if(e.hasNode(t.name)){if((0,r.S)(e.getNodeData(t.name).node)!==(0,r.S)(t.node))throw new Error(`Duplicated fragment called '${t.name}'!`)}e.addNode(t.name,t)}return this._fragments.forEach((t=>{const n=this._extractFragments(t.node);n&&n.length>0&&n.forEach((n=>{e.addDependency(t.name,n)}))})),e}get fragments(){if(0===this._fragments.length||this.config.documentMode===pe.external)return"";const e=this.fragmentsGraph;return e.overallOrder().filter((t=>!e.getNodeData(t).isExternal)).map((t=>this._generateFragment(e.getNodeData(t).node))).join("\n")}_parseImport(e){if("gql"===e)return{moduleName:null,propName:"gql"};if(e.includes(".gql"))return{moduleName:null,propName:e};const[t,n]=e.split("#");return{moduleName:t,propName:n}}_generateImport({moduleName:e,propName:t},n,i){const a=i&&this.config.useTypeImports?"import type":"import";return e?`${a} ${t?`{ ${t}${t===n?"":` as ${n}`} }`:n} from '${e}';`:null}clearExtension(e){const t=(0,c.extname)(e);return ce.includes(t)?e.replace(/\.[^/.]+$/,""):e}getImports(e={}){switch((this._additionalImports||[]).forEach((e=>this._imports.add(e))),this.config.documentMode){case pe.documentNode:case pe.documentNodeImportFragments:{const e=this._parseImport(this.config.documentNodeImport||"graphql#DocumentNode"),t=this._generateImport(e,"DocumentNode",!0);t&&this._imports.add(t);break}case pe.graphQLTag:{const e=this._parseImport(this.config.gqlImport||"graphql-tag"),t=this._generateImport(e,"gql",!1);t&&this._imports.add(t);break}case pe.external:this._collectedOperations.length>0&&("near-operation-file"===this.config.importDocumentNodeExternallyFrom&&1===this._documents.length?this._imports.add(`import * as Operations from './${this.clearExtension((0,c.basename)(this._documents[0].location))}';`):(this.config.importDocumentNodeExternallyFrom||T.warn("importDocumentNodeExternallyFrom must be provided if documentMode=external"),this._imports.add(`import * as Operations from '${this.clearExtension(this.config.importDocumentNodeExternallyFrom)}';`)))}if(!e.excludeFragments&&!this.config.globalNamespace){const{documentMode:e,fragmentImports:t}=this.config;if(e===pe.graphQLTag||e===pe.string||e===pe.documentNodeImportFragments){const e=new Map;t.map((t=>{const{path:n,identifiers:i}=t.importSource;e.has(n)||e.set(n,new Set);const a=e.get(n),r=i.filter((e=>!a.has(e.name)));return r.forEach((e=>a.add(e.name))),{...t,importSource:{...t.importSource,identifiers:r}}})).filter((e=>e.importSource.identifiers.length>0)).forEach((e=>{e.outputPath!==e.importSource.path&&this._imports.add(Z(e,"document"))}))}}return Array.from(this._imports)}buildOperation(e,t,n,i,a,r){return null}getDocumentNodeSignature(e,t,n){return this.config.documentMode===pe.documentNode||this.config.documentMode===pe.documentNodeImportFragments?" as unknown as DocumentNode":""}checkVariablesRequirements(e){const t=e.variableDefinitions||[];return 0!==t.length&&t.some((e=>e.type.kind===i.h.NON_NULL_TYPE&&!e.defaultValue))}getOperationVariableName(e){return this.convertName(e,{suffix:this.config.documentVariableSuffix,prefix:this.config.documentVariablePrefix,useTypesPrefix:!1})}OperationDefinition(e){this._collectedOperations.push(e);const t=this.getOperationVariableName(e),n=(0,p.pascalCase)(e.operation),i=this.getOperationSuffix(e,n),a=this.convertName(e,{suffix:i+this._parsedConfig.operationResultSuffix}),r=this.convertName(e,{suffix:i+"Variables"});let s="";this.config.documentMode!==pe.external&&""!==t&&(s=`${this.config.noExport?"":"export"} const ${t} =${this.config.pureMagicComment?" /*#__PURE__*/":""} ${this._gql(e)}${this.getDocumentNodeSignature(a,r,e)};`);const o=this.checkVariablesRequirements(e);return[s,this.buildOperation(e,t,n,a,r,o)].filter((e=>e)).join("\n")}}const me={__schema:s.Az,__type:s.tF};class de{constructor(e,t,n,i,a,r,s,o,l){this._processor=e,this._scalars=t,this._schema=n,this._convertName=i,this._getFragmentSuffix=a,this._loadedFragments=r,this._config=s,this._parentSchemaType=o,this._selectionSet=l,this._primitiveFields=[],this._primitiveAliasedFields=[],this._linksFields=[],this._queriedForTypename=!1,m(this)}createNext(e,t){return new de(this._processor,this._scalars,this._schema,this._convertName.bind(this),this._getFragmentSuffix.bind(this),this._loadedFragments,this._config,e,t)}_collectInlineFragments(e,t,n){if((0,a.HG)(e)||(0,a.zM)(e))return this._collectInlineFragments(e.ofType,t,n);if((0,a.lp)(e))for(const i of t){const t=i.typeCondition?this._schema.getType(i.typeCondition.name.value):e,{fields:r,inlines:s,spreads:o}=B(i.selectionSet.selections),l=this.buildFragmentSpreadsUsage(o),p=i.directives||void 0;(0,a.lp)(t)?(this._appendToTypeMap(n,t.name,r),this._appendToTypeMap(n,t.name,l[t.name]),this._appendToTypeMap(n,t.name,p),this._collectInlineFragments(t,s,n)):(0,a.oT)(t)&&e.getInterfaces().includes(t)&&(this._appendToTypeMap(n,e.name,r),this._appendToTypeMap(n,e.name,l[e.name]),this._collectInlineFragments(t,s,n))}else if((0,a.oT)(e)){const i=W(this._schema,e);for(const r of t){const t=r.typeCondition?this._schema.getType(r.typeCondition.name.value):e,{fields:s,inlines:l,spreads:p}=B(r.selectionSet.selections),c=this.buildFragmentSpreadsUsage(p);if((0,a.lp)(t)&&i.find((e=>e.name===t.name)))this._appendToTypeMap(n,t.name,s),this._appendToTypeMap(n,t.name,c[t.name]),this._collectInlineFragments(t,l,n);else if((0,a.oT)(t)&&t.name===e.name)for(const e of i)this._appendToTypeMap(n,e.name,s),this._appendToTypeMap(n,e.name,c[e.name]),this._collectInlineFragments(t,l,n);else for(const e of i){if(!r.typeCondition)throw new Error("Invalid state. Expected type condition for interface spread on a interface field.");const t=this._schema.getType(r.typeCondition.name.value);(0,o.uJ)(this._schema,e,t)&&(this._appendToTypeMap(n,e.name,s),this._appendToTypeMap(n,e.name,c[e.name]))}}}else if((0,a.EN)(e)){const i=e.getTypes();for(const r of t){const t=r.typeCondition?this._schema.getType(r.typeCondition.name.value):e,{fields:s,inlines:o,spreads:l}=B(r.selectionSet.selections),p=this.buildFragmentSpreadsUsage(l);if((0,a.lp)(t)&&i.find((e=>e.name===t.name)))this._appendToTypeMap(n,t.name,s),this._appendToTypeMap(n,t.name,p[t.name]),this._collectInlineFragments(t,o,n);else if((0,a.oT)(t)){const e=W(this._schema,t);for(const a of i)e.find((e=>e.name===a.name))&&(this._appendToTypeMap(n,a.name,s),this._appendToTypeMap(n,a.name,p[a.name]),this._collectInlineFragments(t,o,n))}else for(const e of i)this._appendToTypeMap(n,e.name,s),this._appendToTypeMap(n,e.name,p[e.name])}}}_createInlineFragmentForFieldNodes(e,t){return{kind:i.h.INLINE_FRAGMENT,typeCondition:{kind:i.h.NAMED_TYPE,name:{kind:i.h.NAME,value:e.name}},directives:[],selectionSet:{kind:i.h.SELECTION_SET,selections:t}}}buildFragmentSpreadsUsage(e){const t={};for(const n of e){const e=this._loadedFragments.find((e=>e.name===n.name.value));if(e){const i=this._schema.getType(e.onType),a=W(this._schema,i);for(const r of a){const i=this._getFragmentSuffix(n.name.value),s=this.buildFragmentTypeName(n.name.value,i,1===a.length?null:r.name);t[r.name]||(t[r.name]=[]),t[r.name].push({fragmentName:n.name.value,typeName:s,onType:e.onType,selectionNodes:[...e.node.selectionSet.selections]})}}}return t}flattenSelectionSet(e){const t=new Map,n=[],a=[],r=[];for(const o of e)switch(o.kind){case i.h.FIELD:a.push(o);break;case i.h.INLINE_FRAGMENT:n.push(o);break;case i.h.FRAGMENT_SPREAD:r.push(o)}a.length&&n.push(this._createInlineFragmentForFieldNodes(this._parentSchemaType,a)),this._collectInlineFragments(this._parentSchemaType,n,t);const s=this.buildFragmentSpreadsUsage(r);for(const[i,o]of Object.entries(s))this._appendToTypeMap(t,i,o);return t}_appendToTypeMap(e,t,n){e.has(t)||e.set(t,[]),n&&n.length>0&&e.get(t).push(...n)}_buildGroupedSelections(){if(!this._selectionSet||!this._selectionSet.selections||0===this._selectionSet.selections.length)return{grouped:{},mustAddEmptyObject:!0};const e=this.flattenSelectionSet(this._selectionSet.selections);let t=!1;return{grouped:W(this._schema,this._parentSchemaType).reduce(((n,i)=>{const r=i.name,s=this._schema.getType(r);if(!(0,a.lp)(s))throw new TypeError(`Invalid state! Schema type ${r} is not a valid GraphQL object!`);const o=e.get(r)||[];n[r]||(n[r]=[]);const l=this.buildSelectionSetString(s,o);return l?n[r].push(l):t=!0,n}),{}),mustAddEmptyObject:t}}buildSelectionSetString(e,t){var n,i,r;const s=new Map,o=new Map,p=new Map;let c=!1;const u=[];t=[...t];let m=!1;for(const l of t){if("kind"in l){if("Field"===l.kind)if(l.selectionSet){let t=null;if(t=e.getFields()[l.name.value],d=l.name.value,["__schema","__type"].includes(d)&&(t=me[l.name.value]),!t)continue;const n=L(l);let i=p.get(n);i=i?{...i,field:{...i.field,selectionSet:V(i.field.selectionSet,l.selectionSet)}}:{selectedFieldType:t.type,field:l},p.set(n,i)}else l.alias?o.set(l.alias.value,l):"__typename"===l.name.value?c=!0:s.set(l.name.value,l);else{if("Directive"!==l.kind)throw new TypeError("Unexpected type.");["skip","include"].includes(null===(n=null==l?void 0:l.name)||void 0===n?void 0:n.value)&&(m=!0)}continue}if("combine"===this._config.inlineFragmentTypes){u.push(l.typeName);continue}const h=this._schema.getType(l.onType);if(null==h)throw new TypeError(`Unexpected error: Type ${l.onType} does not exist within schema.`);if(e.name===l.onType||null!=e.getInterfaces().find((e=>e.name===l.onType))||(0,a.EN)(h)&&h.getTypes().find((t=>t.name===e.name))){const n=this.flattenSelectionSet(l.selectionNodes),a=null!==(i=n.get(e.name))&&void 0!==i?i:[];t.push(...a);for(const i of e.getInterfaces()){const e=null!==(r=n.get(i.name))&&void 0!==r?r:[];t.push(...e)}}}var d;const h=[];for(const{field:a,selectedFieldType:N}of p.values()){const e=(0,l.Wp)(N),t=this.createNext(e,a.selectionSet),n=U(a)||m;h.push({alias:a.alias?this._processor.config.formatNamedField(a.alias.value,N):void 0,name:this._processor.config.formatNamedField(a.name.value,N,n),type:e.name,selectionSet:this._processor.config.wrapTypeWithModifiers(t.transformSelectionSet().split("\n").join("\n  "),N)})}const f=this.buildTypeNameField(e,this._config.nonOptionalTypename,this._config.addTypename,c,this._config.skipTypeNameForRoot),g=[...f?this._processor.transformTypenameField(f.type,f.name):[],...this._processor.transformPrimitiveFields(e,Array.from(s.values()).map((e=>({isConditional:U(e),fieldName:e.name.value})))),...this._processor.transformAliasesPrimitiveFields(e,Array.from(o.values()).map((e=>({alias:e.alias.value,fieldName:e.name.value})))),...this._processor.transformLinkFields(h)].filter(Boolean),y=g.filter((e=>"string"==typeof e)),T=g.filter((e=>"string"!=typeof e)).map((e=>`${e.name}: ${e.type}`));let v=null;T.length>0&&(v=this._processor.buildFieldsIntoObject(T));const _=[...y,v,...u].filter(Boolean);return this._processor.buildSelectionSetFromStrings(_)}buildTypeNameField(e,t=this._config.nonOptionalTypename,n=this._config.addTypename,i=this._queriedForTypename,a=this._config.skipTypeNameForRoot){if((0,d.LJ)(this._schema).has(e)&&a&&!i)return null;if(t||n||i){const n=!i&&!t;return{name:`${this._processor.config.formatNamedField("__typename")}${n?"?":""}`,type:`'${e.name}'`}}return null}getUnknownType(){return"never"}getEmptyObjectType(){return"{}"}getEmptyObjectTypeString(e){return e?" | "+this.getEmptyObjectType():""}transformSelectionSet(){const{grouped:e,mustAddEmptyObject:t}=this._buildGroupedSelections();return 0===Object.keys(e).length?this.getUnknownType():Object.keys(e).map((t=>{const n=e[t].filter(Boolean);return 0===n.length?null:1===n.length?n[0]:`( ${n.join(" & ")} )`})).filter(Boolean).join(" | ")+this.getEmptyObjectTypeString(t)}transformFragmentSelectionSetToTypes(e,t,n){const{grouped:i}=this._buildGroupedSelections(),a=Object.keys(i).map((n=>{const a=i[n].filter(Boolean),r=this.buildFragmentTypeName(e,t,n);return 0===a.length?this._config.addTypename?null:{name:r,content:this.getEmptyObjectType()}:{name:r,content:a.join(" & ")}})).filter(Boolean);return 1===a.length?new w(n).export().asKind("type").withName(this.buildFragmentTypeName(e,t)).withContent(a[0].content).string:[...a.map((e=>new w(n).export(this._config.exportFragmentSpreadSubTypes).asKind("type").withName(e.name).withContent(e.content).string)),new w(n).export().asKind("type").withName(this.buildFragmentTypeName(e,t)).withContent(a.map((e=>e.name)).join(" | ")).string].join("\n")}buildFragmentTypeName(e,t,n=""){return this._convertName(e,{useTypesPrefix:!0,suffix:n?`_${n}_${t}`:t})}}class he{constructor(e){this.config=e}buildFieldsIntoObject(e){return`{ ${e.join(", ")} }`}buildSelectionSetFromStrings(e){return 0===e.length?null:1===e.length?e[0]:`(\n  ${e.join("\n  & ")}\n)`}transformPrimitiveFields(e,t){throw new Error('Please override "transformPrimitiveFields" as part of your BaseSelectionSetProcessor implementation!')}transformAliasesPrimitiveFields(e,t){throw new Error('Please override "transformAliasesPrimitiveFields" as part of your BaseSelectionSetProcessor implementation!')}transformLinkFields(e){throw new Error('Please override "transformLinkFields" as part of your BaseSelectionSetProcessor implementation!')}transformTypenameField(e,t){throw new Error('Please override "transformTypenameField" as part of your BaseSelectionSetProcessor implementation!')}}class fe extends he{transformTypenameField(e,t){return[{type:e,name:t}]}transformPrimitiveFields(e,t){return 0===t.length?[]:t.map((t=>{const n=e.getFields()[t.fieldName],i=(0,l.Wp)(n.type);let r=i.name;const s=t.isConditional&&(0,a.zM)(n.type),o=s?(0,l.o9)(n.type):void 0;(0,a.EM)(i)?r=(this.config.namespacedImportName?`${this.config.namespacedImportName}.`:"")+this.config.convertName(i.name,{useTypesPrefix:this.config.enumPrefix}):this.config.scalars[i.name]&&(r=this.config.scalars[i.name]);return{name:this.config.formatNamedField(t.fieldName,s?o:n.type,t.isConditional),type:this.config.wrapTypeWithModifiers(r,n.type)}}))}transformAliasesPrimitiveFields(e,t){return 0===t.length?[]:t.map((t=>{if("__typename"===t.fieldName){return{name:this.config.formatNamedField(t.alias,null),type:`'${e.name}'`}}{const n=e.getFields()[t.fieldName],i=(0,l.Wp)(n.type);let r=this.config.scalars[i.name]||i.name;(0,a.EM)(i)&&(r=(this.config.namespacedImportName?`${this.config.namespacedImportName}.`:"")+this.config.convertName(i.name,{useTypesPrefix:this.config.enumPrefix}));return{name:this.config.formatNamedField(t.alias,n.type),type:this.config.wrapTypeWithModifiers(r,n.type)}}}))}transformLinkFields(e){return 0===e.length?[]:e.map((e=>({name:e.alias||e.name,type:e.selectionSet})))}}function ge(e,t,n){return(0,y.n)(e,t.map((e=>e.document)),n).map(((e,n)=>{var i;return{location:(null===(i=t[n])||void 0===i?void 0:i.location)||"optimized by relay",document:e}}))}},50408:function(e,t,n){"use strict";var i;n.d(t,{u3:function(){return b},tF:function(){return M},E1:function(){return _},f4:function(){return v},Wp:function(){return f},LY:function(){return C},Ed:function(){return h},L5:function(){return T},fX:function(){return x},NT:function(){return N},o9:function(){return g},IF:function(){return d}});var a=n(48860),r=n(27061),s=n(44880),o=n(1346),l=n(43165),p=n(57554),c=n(65449),u=n(15409),m=n(37358);function d(e){if("function"==typeof e)return e;let t,[o,l]=e.split("#");if("change-case"===o&&(o="change-case-all"),"change-case-all"===o)t=i||(i=n.t(s,2));else{if(t=(0,a.createRequire)((0,r.cwd)()+"/index.js")(o),!(l in t)&&"function"!=typeof t)throw new Error(`${l} couldn't be found in module ${o}!`)}return t[l]||t}function h(e){return"object"==typeof e&&e.hasOwnProperty("content")}function f(e){return t=e,(0,o.HG)(t)||(0,o.zM)(t)?f(e.ofType):e;var t}function g(e){return(0,o.zM)(e)?e.ofType:e}function y(e){return!(0,o.zM)(e)||!(!(0,o.HG)(e)&&!(0,o.zM)(e))&&y(e.ofType)}function T(e,t,n){let i=0;const a=[];return(0,l.Vn)(e,{SelectionSet:{enter(e,i,r,s){if(s.find((e=>e.kind&&"FragmentDefinition"===e.kind&&t.includes(e.name.value))))return;const o=e.selections||[];if(n&&o.length>0){const e=(()=>{if(r.kind===p.h.FRAGMENT_DEFINITION)return r.typeCondition.name.value;if(r.kind===p.h.FIELD){const e=a[a.length-1];if(!e)throw new Error("Unable to find parent type! Please make sure you operation passes validation");const t=e.getFields()[r.name.value];if(!t)throw new Error(`Unable to find field "${r.name.value}" on type "${e}"!`);return f(t.type).name}if(r.kind===p.h.OPERATION_DEFINITION){if("query"===r.operation)return n.getQueryType().name;if("mutation"===r.operation)return n.getMutationType().name;if("subscription"===r.operation)return n.getSubscriptionType().name}else if(r.kind===p.h.INLINE_FRAGMENT)return r.typeCondition?r.typeCondition.name.value:a[a.length-1].name;return null})();a.push(n.getType(e))}},leave(e){const t=e.selections||[];n&&t.length>0&&a.pop()}},Field:{enter:(e,r,s,l,c)=>{if(e.name.value.startsWith("__"))return;if(c.find((e=>e.kind&&"FragmentDefinition"===e.kind&&t.includes(e.name.value))))return;const u=e.selectionSet&&e.selectionSet.selections||[],m=u.filter((e=>e.kind===p.h.FRAGMENT_SPREAD&&!t.includes(e.name.value)));if((0===u.length||m.length>0)&&i++,n){const t=a[a.length-1];if(t&&(0,o.lp)(t)){const n=t.getFields()[e.name.value];if(!n)throw new Error(`Unable to find field "${e.name.value}" on type "${t}"!`);y(n.type)&&i++}}}},VariableDefinition:{enter:(e,n,a,r,s)=>{s.find((e=>e.kind&&"FragmentDefinition"===e.kind&&t.includes(e.name.value)))||i++}},InputValueDefinition:{enter:(e,n,a,r,s)=>{s.find((e=>e.kind&&"FragmentDefinition"===e.kind&&t.includes(e.name.value)))||i++}}}),i>0}const v=(0,c.Qc)("\n  scalar _FieldSet\n\n  directive @external on FIELD_DEFINITION\n  directive @requires(fields: _FieldSet!) on FIELD_DEFINITION\n  directive @provides(fields: _FieldSet!) on FIELD_DEFINITION\n  directive @key(fields: _FieldSet!) on OBJECT | INTERFACE\n");function _(e){return(0,m.gf)(e,{[m.h0.OBJECT_TYPE]:t=>{if(F(t,e)){const e=t.toConfig();return e.fields={[$]:{type:t},...e.fields},new o.h6(e)}return t}})}function N(e){return(0,m.gf)(e,{[m.h0.QUERY]:e=>{const t=e.toConfig();return delete t.fields._entities,delete t.fields._service,new o.h6(t)},[m.h0.UNION_TYPE]:e=>{const t=e.name;return"_Entity"===t||"_Any"===t?null:e},[m.h0.OBJECT_TYPE]:e=>"_Service"===e.name?null:e})}const $="__resolveReference";class b{constructor({enabled:e,schema:t}){this.enabled=!1,this.enabled=e,this.schema=t,this.providesMap=this.createMapOfProvides()}filterTypeNames(e){return this.enabled?e.filter((e=>"_FieldSet"!==e)):e}filterFieldNames(e){return this.enabled?e.filter((e=>e!==$)):e}skipDirective(e){return this.enabled&&["external","requires","provides","key"].includes(e)}skipScalar(e){return this.enabled&&"_FieldSet"===e}skipField({fieldNode:e,parentType:t}){return!!(this.enabled&&(0,o.lp)(t)&&F(t,this.schema))&&this.isExternalAndNotProvided(e,t)}isResolveReferenceField(e){const t="string"==typeof e.name?e.name:e.name.value;return this.enabled&&t===$}transformParentType({fieldNode:e,parentType:t,parentTypeSignature:n}){if(this.enabled&&(0,o.lp)(t)&&F(t,this.schema)&&(function(e,t){var n;const i=(0,o.lp)(e)?e.astNode||(0,m.IW)(e,t):e;return null===(n=i.fields)||void 0===n?void 0:n.some((e=>S("external",e).length))}(t,this.schema)||e.name.value===$)){const i=S("key",t);if(i.length){const a=[`{ __typename: '${t.name}' } &`],r=S("requires",e).map(this.extractKeyOrRequiresFieldSet),s=this.translateFieldSet(u({},...r),n),o=i.map((e=>{const t=this.extractKeyOrRequiresFieldSet(e);return this.translateFieldSet(t,n)})),[l,p]=o.length>1?["(",")"]:["",""];return a.push([l,o.join(" | "),p].join("")),r.length&&a.push(`& ${s}`),a.join(" ")}}return n}isExternalAndNotProvided(e,t){return this.isExternal(e)&&!this.hasProvides(t,e)}isExternal(e){return S("external",e).length>0}hasProvides(e,t){const n=this.providesMap[(0,o.lp)(e)?e.name:e.name.value];return!(!n||!n.length)&&n.includes(t.name.value)}translateFieldSet(e,t){return`GraphQLRecursivePick<${t}, ${JSON.stringify(e)}>`}extractKeyOrRequiresFieldSet(e){const t=e.arguments.find((e=>"fields"===e.name.value)).value.value;return x((0,c.Qc)(`{${t}}`),{leave:{SelectionSet:e=>e.selections.reduce(((e,t)=>(e[t.name]=t.selection,e)),{}),Field:e=>({name:e.name.value,selection:!e.selectionSet||e.selectionSet}),Document:e=>e.definitions.find((e=>"OperationDefinition"===e.kind&&"query"===e.operation)).selectionSet}})}extractProvidesFieldSet(e){const t=e.arguments.find((e=>"fields"===e.name.value)).value.value;if(/[{}]/gi.test(t))throw new Error("Nested fields in _FieldSet is not supported in the @provides directive");return t.split(/\s+/g)}createMapOfProvides(){const e={};return Object.keys(this.schema.getTypeMap()).forEach((t=>{const n=this.schema.getType(t);(0,o.lp)(n)&&Object.values(n.getFields()).forEach((t=>{const n=S("provides",t.astNode).map(this.extractProvidesFieldSet).reduce(((e,t)=>[...e,...t]),[]),i=f(t.type);e[i.name]||(e[i.name]=[]),e[i.name].push(...n)}))})),e}}function F(e,t){const{name:{value:n},directives:i}=(0,o.lp)(e)?(0,m.IW)(e,t):e,a=!(0,m.K)(t).has(n),r=!n.startsWith("__"),s=i.some((e=>"key"===e.name.value));return a&&r&&s}function S(e,t){var n;let i;return i=(0,o.lp)(t)?t.astNode:t,(null===(n=null==i?void 0:i.directives)||void 0===n?void 0:n.filter((t=>t.name.value===e)))||[]}class M extends Error{constructor(e,t,n){super(e),this.message=e,this.details=t,this.source=n,Object.setPrototypeOf(this,M.prototype),Error.captureStackTrace(this,M)}}const C=(0,m.mQ)(m.HA);function x(e,{enter:t,leave:n,...i}){if("object"==typeof t)for(const a in t)i[a]=i[a]||{},i[a].enter=t[a];if("object"==typeof n)for(const a in n)i[a]=i[a]||{},i[a].leave=n[a];return(0,l.Vn)(e,i)}}}]);